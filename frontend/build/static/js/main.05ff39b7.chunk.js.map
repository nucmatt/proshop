{"version":3,"sources":["constants/productConstants.js","constants/cartConstants.js","constants/userConstants.js","constants/orderConstants.js","store.js","reducers/productReducers.js","reducers/cartReducers.js","reducers/userReducers.js","reducers/orderReducers.js","components/SearchBox.js","actions/userActions.js","components/Header.js","components/Footer.js","components/Rating.js","components/Product.js","components/Loader.js","components/Message.js","components/Paginate.js","actions/productActions.js","components/ProductCarousel.js","components/Meta.js","screens/HomeScreen.js","screens/ProductScreen.js","actions/cartActions.js","screens/CartScreen.js","components/FormContainer.js","screens/LoginScreen.js","screens/RegisterScreen.js","screens/ProfileScreen.js","actions/orderActions.js","components/CheckoutSteps.js","screens/ShippingScreen.js","screens/PaymentScreen.js","screens/PlaceOrderScreen.js","screens/OrderScreen.js","screens/OrderListScreen.js","screens/UserListScreen.js","screens/UserEditScreen.js","screens/ProductListScreen.js","screens/ProductEditScreen.js","App.js","reportWebVitals.js","index.js"],"names":["PRODUCT_LIST_REQUEST","PRODUCT_LIST_SUCCESS","PRODUCT_LIST_FAIL","PRODUCT_DETAILS_REQUEST","PRODUCT_DETAILS_SUCCESS","PRODUCT_DETAILS_FAIL","PRODUCT_DELETE_REQUEST","PRODUCT_DELETE_SUCCESS","PRODUCT_DELETE_FAIL","PRODUCT_CREATE_REQUEST","PRODUCT_CREATE_SUCCESS","PRODUCT_CREATE_FAIL","PRODUCT_CREATE_RESET","PRODUCT_UPDATE_REQUEST","PRODUCT_UPDATE_SUCCESS","PRODUCT_UPDATE_FAIL","PRODUCT_UPDATE_RESET","PRODUCT_CREATE_REVIEW_REQUEST","PRODUCT_CREATE_REVIEW_SUCCESS","PRODUCT_CREATE_REVIEW_FAIL","PRODUCT_CREATE_REVIEW_RESET","PRODUCT_TOP_REQUEST","PRODUCT_TOP_SUCCESS","PRODUCT_TOP_FAIL","CART_ADD_ITEM","CART_REMOVE_ITEM","CART_SAVE_SHIPPING_ADDRESS","CART_SAVE_PAYMENT_METHOD","USER_LOGIN_REQUEST","USER_LOGIN_SUCCESS","USER_LOGIN_FAIL","USER_LOGOUT","USER_REGISTER_REQUEST","USER_REGISTER_SUCCESS","USER_REGISTER_FAIL","USER_DETAILS_REQUEST","USER_DETAILS_SUCCESS","USER_DETAILS_FAIL","USER_DETAILS_RESET","USER_UPDATE_PROFILE_REQUEST","USER_UPDATE_PROFILE_SUCCESS","USER_UPDATE_PROFILE_FAIL","USER_UPDATE_PROFILE_RESET","USER_LIST_REQUEST","USER_LIST_SUCCESS","USER_LIST_FAIL","USER_LIST_RESET","USER_DELETE_REQUEST","USER_DELETE_SUCCESS","USER_DELETE_FAIL","USER_UPDATE_REQUEST","USER_UPDATE_SUCCESS","USER_UPDATE_FAIL","USER_UPDATE_RESET","ORDER_CREATE_REQUEST","ORDER_CREATE_SUCCESS","ORDER_CREATE_FAIL","ORDER_DETAILS_REQUEST","ORDER_DETAILS_SUCCESS","ORDER_DETAILS_FAIL","ORDER_PAY_REQUEST","ORDER_PAY_SUCCESS","ORDER_PAY_FAIL","ORDER_PAY_RESET","ORDER_LIST_MY_REQUEST","ORDER_LIST_MY_SUCCESS","ORDER_LIST_MY_FAIL","ORDER_LIST_MY_RESET","ORDER_LIST_REQUEST","ORDER_LIST_SUCCESS","ORDER_LIST_FAIL","ORDER_DELIVER_REQUEST","ORDER_DELIVER_SUCCESS","ORDER_DELIVER_FAIL","ORDER_DELIVER_RESET","reducer","combineReducers","productList","state","products","action","type","loading","payload","pages","page","error","productDetails","product","reviews","productDelete","success","productCreate","productUpdate","productReviewCreate","productTopRated","cart","cartItems","shippingAddress","item","existItem","find","x","map","filter","paymentMethod","userLogin","userInfo","userRegister","userDetails","user","userUpdateProfile","userList","users","userDelete","userUpdate","orderCreate","order","orders","orderDetails","orderItems","orderPay","orderDeliver","orderListMy","orderList","cartItemsFromStorage","localStorage","getItem","JSON","parse","userInfoFromStorage","initialState","middleware","thunk","store","createStore","composeWithDevTools","applyMiddleware","SearchBox","history","useHistory","useState","keyword","setKeyword","Form","onSubmit","e","preventDefault","trim","push","inline","Control","name","onChange","target","value","placeholder","className","Button","variant","getUserDetails","id","dispatch","getState","a","config","headers","Authorization","token","axios","get","data","response","message","Header","useDispatch","useSelector","Navbar","bg","expand","collapseOnSelect","Container","to","Brand","Toggle","aria-controls","Collapse","Nav","Link","NavDropdown","title","Item","onClick","removeItem","isAdmin","Footer","Row","Col","Rating","text","color","style","defaultProps","Product","Card","_id","Img","src","image","Body","Title","as","Text","rating","numReviews","price","Loader","Spinner","animation","role","width","height","margin","display","Message","children","Alert","Paginate","Pagination","Array","keys","p","active","activeLabel","listProducts","pageNumber","listProductDetails","ProductCarousel","useEffect","Carousel","pause","Image","alt","fluid","Caption","Meta","description","keywords","Helmet","content","HomeScreen","match","params","sm","md","lg","xl","ProductScreen","qty","setQty","setRating","comment","setComment","errorProductReview","successProductReview","alert","ListGroup","countInStock","disabled","length","review","createdAt","substring","productId","post","Group","controlId","Label","row","addToCart","setItem","stringify","CartScreen","location","search","Number","split","removeFromCartHandler","removeFromCart","rounded","reduce","acc","toFixed","FormContainer","xs","LoginScreen","email","setEmail","password","setPassword","redirect","login","RegisterScreen","setName","confirmPassword","setConfirmPassword","setMessage","register","ProfileScreen","loadingOrders","errorOrders","put","updateUserProfile","Table","striped","bordered","hover","responsive","totalPrice","isPaid","paidAt","isDelivered","deliveredAt","CheckoutSteps","step1","step2","step3","step4","ShippingScreen","address","setAddress","city","setCity","postalCode","setPostalCode","country","setCountry","required","PaymentScreen","setPaymentMethod","Check","label","checked","PlaceOrderScreen","addDecimals","num","Math","round","itemsPrice","shippingPrice","taxPrice","index","createOrder","OrderScreen","orderId","sdkReady","setSdkReady","loadingPay","successPay","loadingDeliver","successDeliver","addPayPalScript","clientId","script","document","createElement","async","onload","body","appendChild","window","paypal","href","amount","onSuccess","paymentResult","console","log","respons","payOrder","deliverOrder","OrderListScreen","UserListScreen","successDelete","deleteHandler","confirm","delete","deleteUser","UserEditScreen","userId","setIsAdmin","loadingUpdate","errorUpdate","successUpdate","updateUser","ProductListScreen","loadingDelete","errorDelete","loadingCreate","errorCreate","successCreate","createdProduct","deleteProduct","category","brand","ProductEditScreen","setPrice","setImage","setBrand","setCategory","setCountInStock","setDescription","uploading","setUploading","uploadFileHandler","file","files","formData","FormData","append","updateProduct","File","custom","App","path","component","exact","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.05ff39b7.chunk.js","sourcesContent":["export const PRODUCT_LIST_REQUEST = 'PRODUCT_LIST_REQUEST';\r\nexport const PRODUCT_LIST_SUCCESS = 'PRODUCT_LIST_SUCCESS';\r\nexport const PRODUCT_LIST_FAIL = 'PRODUCT_LIST_FAIL';\r\n\r\nexport const PRODUCT_DETAILS_REQUEST = 'PRODUCT_DETAILS_REQUEST';\r\nexport const PRODUCT_DETAILS_SUCCESS = 'PRODUCT_DETAILS_SUCCESS';\r\nexport const PRODUCT_DETAILS_FAIL = 'PRODUCT_DETAILS_FAIL';\r\n\r\nexport const PRODUCT_DELETE_REQUEST = 'PRODUCT_DELETE_REQUEST';\r\nexport const PRODUCT_DELETE_SUCCESS = 'PRODUCT_DELETE_SUCCESS';\r\nexport const PRODUCT_DELETE_FAIL = 'PRODUCT_DELETE_FAIL';\r\n\r\nexport const PRODUCT_CREATE_REQUEST = 'PRODUCT_CREATE_REQUEST';\r\nexport const PRODUCT_CREATE_SUCCESS = 'PRODUCT_CREATE_SUCCESS';\r\nexport const PRODUCT_CREATE_FAIL = 'PRODUCT_CREATE_FAIL';\r\nexport const PRODUCT_CREATE_RESET = 'PRODUCT_CREATE_RESET';\r\n\r\nexport const PRODUCT_UPDATE_REQUEST = 'PRODUCT_UPDATE_REQUEST';\r\nexport const PRODUCT_UPDATE_SUCCESS = 'PRODUCT_UPDATE_SUCCESS';\r\nexport const PRODUCT_UPDATE_FAIL = 'PRODUCT_UPDATE_FAIL';\r\nexport const PRODUCT_UPDATE_RESET = 'PRODUCT_UPDATE_RESET';\r\n\r\nexport const PRODUCT_CREATE_REVIEW_REQUEST = 'PRODUCT_CREATE_REVIEW_REQUEST';\r\nexport const PRODUCT_CREATE_REVIEW_SUCCESS = 'PRODUCT_CREATE_REVIEW_SUCCESS';\r\nexport const PRODUCT_CREATE_REVIEW_FAIL = 'PRODUCT_CREATE_REVIEW_FAIL';\r\nexport const PRODUCT_CREATE_REVIEW_RESET = 'PRODUCT_CREATE_REVIEW_RESET';\r\n\r\nexport const PRODUCT_TOP_REQUEST = 'PRODUCT_TOP_REQUEST';\r\nexport const PRODUCT_TOP_SUCCESS = 'PRODUCT_TOP_SUCCESS';\r\nexport const PRODUCT_TOP_FAIL = 'PRODUCT_TOP_FAIL';\r\n","export const CART_ADD_ITEM = 'CART_ADD_ITEM';\r\nexport const CART_REMOVE_ITEM = 'CART_REMOVE_ITEM';\r\nexport const CART_SAVE_SHIPPING_ADDRESS = 'CART_SAVE_SHIPPING_ADDRESS';\r\nexport const CART_SAVE_PAYMENT_METHOD = 'CART_SAVE_PAYMENT_METHOD';\r\n","export const USER_LOGIN_REQUEST = 'USER_LOGIN_REQUEST';\r\nexport const USER_LOGIN_SUCCESS = 'USER_LOGIN_SUCCESS';\r\nexport const USER_LOGIN_FAIL = 'USER_LOGIN_FAIL';\r\nexport const USER_LOGOUT = 'USER_LOGOUT';\r\n\r\nexport const USER_REGISTER_REQUEST = 'USER_REGISTER_REQUEST';\r\nexport const USER_REGISTER_SUCCESS = 'USER_REGISTER_SUCCESS';\r\nexport const USER_REGISTER_FAIL = 'USER_REGISTER_FAIL';\r\n\r\nexport const USER_DETAILS_REQUEST = 'USER_DETAILS_REQUEST';\r\nexport const USER_DETAILS_SUCCESS = 'USER_DETAILS_SUCCESS';\r\nexport const USER_DETAILS_FAIL = 'USER_DETAILS_FAIL';\r\nexport const USER_DETAILS_RESET = 'USER_DETAILS_RESET';\r\n\r\nexport const USER_UPDATE_PROFILE_REQUEST = 'USER_UPDATE_PROFILE_REQUEST';\r\nexport const USER_UPDATE_PROFILE_SUCCESS = 'USER_UPDATE_PROFILE_SUCCESS';\r\nexport const USER_UPDATE_PROFILE_FAIL = 'USER_UPDATE_PROFILE_FAIL';\r\nexport const USER_UPDATE_PROFILE_RESET = 'USER_UPDATE_PROFILE_RESET';\r\n\r\nexport const USER_LIST_REQUEST = 'USER_LIST_REQUEST';\r\nexport const USER_LIST_SUCCESS = 'USER_LIST_SUCCESS';\r\nexport const USER_LIST_FAIL = 'USER_LIST_FAIL';\r\nexport const USER_LIST_RESET = 'USER_LIST_RESET';\r\n\r\nexport const USER_DELETE_REQUEST = 'USER_DELETE_REQUEST';\r\nexport const USER_DELETE_SUCCESS = 'USER_DELETE_SUCCESS';\r\nexport const USER_DELETE_FAIL = 'USER_DELETE_FAIL';\r\n\r\nexport const USER_UPDATE_REQUEST = 'USER_UPDATE_REQUEST';\r\nexport const USER_UPDATE_SUCCESS = 'USER_UPDATE_SUCCESS';\r\nexport const USER_UPDATE_FAIL = 'USER_UPDATE_FAIL';\r\nexport const USER_UPDATE_RESET = 'USER_UPDATE_RESET';\r\n\r\n","export const ORDER_CREATE_REQUEST = 'ORDER_CREATE_REQUEST';\r\nexport const ORDER_CREATE_SUCCESS = 'ORDER_CREATE_SUCCESS';\r\nexport const ORDER_CREATE_FAIL = 'ORDER_CREATE_FAIL';\r\n\r\nexport const ORDER_DETAILS_REQUEST = 'ORDER_DETAILS_REQUEST';\r\nexport const ORDER_DETAILS_SUCCESS = 'ORDER_DETAILS_SUCCESS';\r\nexport const ORDER_DETAILS_FAIL = 'ORDER_DETAILS_FAIL';\r\n\r\nexport const ORDER_PAY_REQUEST = 'ORDER_PAY_REQUEST';\r\nexport const ORDER_PAY_SUCCESS = 'ORDER_PAY_SUCCESS';\r\nexport const ORDER_PAY_FAIL = 'ORDER_PAY_FAIL';\r\nexport const ORDER_PAY_RESET = 'ORDER_PAY_RESET';\r\n\r\nexport const ORDER_LIST_MY_REQUEST = 'ORDER_LIST_MY_REQUEST';\r\nexport const ORDER_LIST_MY_SUCCESS = 'ORDER_LIST_MY_SUCCESS';\r\nexport const ORDER_LIST_MY_FAIL = 'ORDER_LIST_MY_FAIL';\r\nexport const ORDER_LIST_MY_RESET = 'ORDER_LIST_MY_RESET';\r\n\r\nexport const ORDER_LIST_REQUEST = 'ORDER_LIST_REQUEST';\r\nexport const ORDER_LIST_SUCCESS = 'ORDER_LIST_SUCCESS';\r\nexport const ORDER_LIST_FAIL = 'ORDER_LIST_FAIL';\r\n\r\nexport const ORDER_DELIVER_REQUEST = 'ORDER_DELIVER_REQUEST';\r\nexport const ORDER_DELIVER_SUCCESS = 'ORDER_DELIVER_SUCCESS';\r\nexport const ORDER_DELIVER_FAIL = 'ORDER_DELIVER_FAIL';\r\nexport const ORDER_DELIVER_RESET = 'ORDER_DELIVER_RESET';\r\n","import { createStore, combineReducers, applyMiddleware } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\nimport {\r\n\tproductListReducer,\r\n\tproductDetailsReducer,\r\n\tproductDeleteReducer,\r\n\tproductCreateReducer,\r\n\tproductUpdateReducer,\r\n\tproductReviewCreateReducer,\r\n\tproductTopRatedReducer,\r\n} from './reducers/productReducers.js';\r\nimport { cartReducer } from './reducers/cartReducers.js';\r\nimport {\r\n\tuserLoginReducer,\r\n\tuserRegisterReducer,\r\n\tuserDetailsReducer,\r\n\tuserUpdateProfileReducer,\r\n\tuserListReducer,\r\n\tuserDeleteReducer,\r\n\tuserUpdateReducer,\r\n} from './reducers/userReducers.js';\r\nimport {\r\n\torderCreateReducer,\r\n\torderDeliverReducer,\r\n\torderDetailsReducer,\r\n\torderListMyReducer,\r\n\torderListReducer,\r\n\torderPayReducer,\r\n} from './reducers/orderReducers.js';\r\n\r\nconst reducer = combineReducers({\r\n\tproductList: productListReducer,\r\n\tproductDetails: productDetailsReducer,\r\n\tproductDelete: productDeleteReducer,\r\n\tproductCreate: productCreateReducer,\r\n\tproductUpdate: productUpdateReducer,\r\n\tproductReviewCreate: productReviewCreateReducer,\r\n\tproductTopRated: productTopRatedReducer,\r\n\tcart: cartReducer,\r\n\tuserLogin: userLoginReducer,\r\n\tuserRegister: userRegisterReducer,\r\n\tuserDetails: userDetailsReducer,\r\n\tuserUpdateProfile: userUpdateProfileReducer,\r\n\tuserList: userListReducer,\r\n\tuserDelete: userDeleteReducer,\r\n\tuserUpdate: userUpdateReducer,\r\n\torderCreate: orderCreateReducer,\r\n\torderDetails: orderDetailsReducer,\r\n\torderPay: orderPayReducer,\r\n\torderDeliver: orderDeliverReducer,\r\n\torderListMy: orderListMyReducer,\r\n\torderList: orderListReducer,\r\n});\r\n\r\nconst cartItemsFromStorage = localStorage.getItem('cartItems')\r\n\t? JSON.parse(localStorage.getItem('cartItems'))\r\n\t: [];\r\n\r\nconst userInfoFromStorage = localStorage.getItem('userInfo')\r\n\t? JSON.parse(localStorage.getItem('userInfo'))\r\n\t: null;\r\n\r\nconst shippingAddressFromStorage = localStorage.getItem('shippingAddress')\r\n\t? JSON.parse(localStorage.getItem('shippingAddress'))\r\n\t: {};\r\n\r\nconst initialState = {\r\n\tcart: {\r\n\t\tcartItems: cartItemsFromStorage,\r\n\t\tshippingAddress: shippingAddressFromStorage,\r\n\t},\r\n\tuserLogin: { userInfo: userInfoFromStorage },\r\n};\r\n\r\nconst middleware = [thunk];\r\n\r\nconst store = createStore(\r\n\treducer,\r\n\tinitialState,\r\n\tcomposeWithDevTools(applyMiddleware(...middleware))\r\n);\r\n\r\nexport default store;\r\n","import {\r\n\tPRODUCT_LIST_FAIL,\r\n\tPRODUCT_LIST_SUCCESS,\r\n\tPRODUCT_LIST_REQUEST,\r\n\tPRODUCT_DETAILS_FAIL,\r\n\tPRODUCT_DETAILS_SUCCESS,\r\n\tPRODUCT_DETAILS_REQUEST,\r\n\tPRODUCT_DELETE_REQUEST,\r\n\tPRODUCT_DELETE_SUCCESS,\r\n\tPRODUCT_DELETE_FAIL,\r\n\tPRODUCT_CREATE_REQUEST,\r\n\tPRODUCT_CREATE_SUCCESS,\r\n\tPRODUCT_CREATE_FAIL,\r\n\tPRODUCT_CREATE_RESET,\r\n\tPRODUCT_UPDATE_REQUEST,\r\n\tPRODUCT_UPDATE_SUCCESS,\r\n\tPRODUCT_UPDATE_FAIL,\r\n\tPRODUCT_UPDATE_RESET,\r\n\tPRODUCT_CREATE_REVIEW_REQUEST,\r\n\tPRODUCT_CREATE_REVIEW_SUCCESS,\r\n\tPRODUCT_CREATE_REVIEW_FAIL,\r\n\tPRODUCT_CREATE_REVIEW_RESET,\r\n\tPRODUCT_TOP_REQUEST,\r\n\tPRODUCT_TOP_SUCCESS,\r\n\tPRODUCT_TOP_FAIL,\r\n} from '../constants/productConstants.js';\r\n\r\nexport const productListReducer = (state = { products: [] }, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase PRODUCT_LIST_REQUEST:\r\n\t\t\treturn { loading: true, products: [] };\r\n\t\tcase PRODUCT_LIST_SUCCESS:\r\n\t\t\treturn {\r\n\t\t\t\tloading: false,\r\n\t\t\t\tproducts: action.payload.products,\r\n\t\t\t\tpages: action.payload.pages,\r\n\t\t\t\tpage: action.payload.page,\r\n\t\t\t};\r\n\t\tcase PRODUCT_LIST_FAIL:\r\n\t\t\treturn { loading: false, error: action.payload };\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport const productDetailsReducer = (\r\n\tstate = { product: { reviews: [] } },\r\n\taction\r\n) => {\r\n\tswitch (action.type) {\r\n\t\tcase PRODUCT_DETAILS_REQUEST:\r\n\t\t\treturn { loading: true, ...state };\r\n\t\tcase PRODUCT_DETAILS_SUCCESS:\r\n\t\t\treturn { loading: false, product: action.payload };\r\n\t\tcase PRODUCT_DETAILS_FAIL:\r\n\t\t\treturn { loading: false, error: action.payload };\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport const productDeleteReducer = (state = {}, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase PRODUCT_DELETE_REQUEST:\r\n\t\t\treturn {\r\n\t\t\t\tloading: true,\r\n\t\t\t};\r\n\t\tcase PRODUCT_DELETE_SUCCESS:\r\n\t\t\treturn {\r\n\t\t\t\tloading: false,\r\n\t\t\t\tsuccess: true,\r\n\t\t\t};\r\n\t\tcase PRODUCT_DELETE_FAIL:\r\n\t\t\treturn {\r\n\t\t\t\tloading: false,\r\n\t\t\t\terror: action.payload,\r\n\t\t\t};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport const productCreateReducer = (state = {}, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase PRODUCT_CREATE_REQUEST:\r\n\t\t\treturn {\r\n\t\t\t\tloading: true,\r\n\t\t\t};\r\n\t\tcase PRODUCT_CREATE_SUCCESS:\r\n\t\t\treturn {\r\n\t\t\t\tloading: false,\r\n\t\t\t\tsuccess: true,\r\n\t\t\t\tproduct: action.payload,\r\n\t\t\t};\r\n\t\tcase PRODUCT_CREATE_FAIL:\r\n\t\t\treturn {\r\n\t\t\t\tloading: false,\r\n\t\t\t\terror: action.payload,\r\n\t\t\t};\r\n\t\tcase PRODUCT_CREATE_RESET:\r\n\t\t\treturn {};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport const productUpdateReducer = (state = { product: {} }, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase PRODUCT_UPDATE_REQUEST:\r\n\t\t\treturn {\r\n\t\t\t\tloading: true,\r\n\t\t\t};\r\n\t\tcase PRODUCT_UPDATE_SUCCESS:\r\n\t\t\treturn {\r\n\t\t\t\tloading: false,\r\n\t\t\t\tsuccess: true,\r\n\t\t\t\tproduct: action.payload,\r\n\t\t\t};\r\n\t\tcase PRODUCT_UPDATE_FAIL:\r\n\t\t\treturn {\r\n\t\t\t\tloading: false,\r\n\t\t\t\terror: action.payload,\r\n\t\t\t};\r\n\t\tcase PRODUCT_UPDATE_RESET:\r\n\t\t\treturn {\r\n\t\t\t\tproduct: {},\r\n\t\t\t};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport const productReviewCreateReducer = (state = {}, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase PRODUCT_CREATE_REVIEW_REQUEST:\r\n\t\t\treturn {\r\n\t\t\t\tloading: true,\r\n\t\t\t};\r\n\t\tcase PRODUCT_CREATE_REVIEW_SUCCESS:\r\n\t\t\treturn {\r\n\t\t\t\tloading: false,\r\n\t\t\t\tsuccess: true,\r\n\t\t\t};\r\n\t\tcase PRODUCT_CREATE_REVIEW_FAIL:\r\n\t\t\treturn {\r\n\t\t\t\tloading: false,\r\n\t\t\t\terror: action.payload,\r\n\t\t\t};\r\n\t\tcase PRODUCT_CREATE_REVIEW_RESET:\r\n\t\t\treturn {};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport const productTopRatedReducer = (state = { products: [] }, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase PRODUCT_TOP_REQUEST:\r\n\t\t\treturn { loading: true, products: [] };\r\n\t\tcase PRODUCT_TOP_SUCCESS:\r\n\t\t\treturn {\r\n\t\t\t\tloading: false,\r\n\t\t\t\tproducts: action.payload,\r\n\t\t\t};\r\n\t\tcase PRODUCT_TOP_FAIL:\r\n\t\t\treturn {\r\n\t\t\t\tloading: false,\r\n\t\t\t\terror: action.payload,\r\n\t\t\t};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n","import {\r\n\tCART_ADD_ITEM,\r\n\tCART_REMOVE_ITEM,\r\n\tCART_SAVE_SHIPPING_ADDRESS,\r\n\tCART_SAVE_PAYMENT_METHOD,\r\n} from '../constants/cartConstants.js';\r\n\r\nexport const cartReducer = (\r\n\tstate = { cartItems: [], shippingAddress: {} },\r\n\taction\r\n) => {\r\n\tswitch (action.type) {\r\n\t\tcase CART_ADD_ITEM:\r\n\t\t\tconst item = action.payload;\r\n\t\t\tconst existItem = state.cartItems.find((x) => x.product === item.product);\r\n\t\t\tif (existItem) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...state,\r\n\t\t\t\t\tcartItems: state.cartItems.map((x) =>\r\n\t\t\t\t\t\tx.product === existItem.product ? item : x\r\n\t\t\t\t\t),\r\n\t\t\t\t};\r\n\t\t\t} else {\r\n\t\t\t\treturn { ...state, cartItems: [...state.cartItems, item] };\r\n\t\t\t}\r\n\t\tcase CART_REMOVE_ITEM:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tcartItems: state.cartItems.filter((x) => x.product !== action.payload),\r\n\t\t\t};\r\n\t\tcase CART_SAVE_SHIPPING_ADDRESS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tshippingAddress: action.payload,\r\n\t\t\t};\r\n\t\tcase CART_SAVE_PAYMENT_METHOD:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tpaymentMethod: action.payload,\r\n\t\t\t};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n","import {\r\n\tUSER_LOGIN_FAIL,\r\n\tUSER_LOGOUT,\r\n\tUSER_LOGIN_REQUEST,\r\n\tUSER_LOGIN_SUCCESS,\r\n\tUSER_REGISTER_REQUEST,\r\n\tUSER_REGISTER_SUCCESS,\r\n\tUSER_REGISTER_FAIL,\r\n\tUSER_DETAILS_REQUEST,\r\n\tUSER_DETAILS_SUCCESS,\r\n\tUSER_DETAILS_FAIL,\r\n\tUSER_UPDATE_PROFILE_REQUEST,\r\n\tUSER_UPDATE_PROFILE_SUCCESS,\r\n\tUSER_UPDATE_PROFILE_FAIL,\r\n\tUSER_UPDATE_PROFILE_RESET,\r\n\tUSER_DETAILS_RESET,\r\n\tUSER_LIST_REQUEST,\r\n\tUSER_LIST_SUCCESS,\r\n\tUSER_LIST_FAIL,\r\n\tUSER_LIST_RESET,\r\n\tUSER_DELETE_REQUEST,\r\n\tUSER_DELETE_SUCCESS,\r\n\tUSER_DELETE_FAIL,\r\n\tUSER_UPDATE_REQUEST,\r\n\tUSER_UPDATE_SUCCESS,\r\n\tUSER_UPDATE_FAIL,\r\n\tUSER_UPDATE_RESET,\r\n} from '../constants/userConstants.js';\r\n\r\nexport const userLoginReducer = (state = {}, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase USER_LOGIN_REQUEST:\r\n\t\t\treturn { loading: true };\r\n\t\tcase USER_LOGIN_SUCCESS:\r\n\t\t\treturn { loading: false, userInfo: action.payload };\r\n\t\tcase USER_LOGIN_FAIL:\r\n\t\t\treturn { loading: false, error: action.payload };\r\n\t\tcase USER_LOGOUT:\r\n\t\t\treturn {};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport const userRegisterReducer = (state = {}, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase USER_REGISTER_REQUEST:\r\n\t\t\treturn { loading: true };\r\n\t\tcase USER_REGISTER_SUCCESS:\r\n\t\t\treturn { loading: false, userInfo: action.payload };\r\n\t\tcase USER_REGISTER_FAIL:\r\n\t\t\treturn { loading: false, error: action.payload };\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport const userDetailsReducer = (state = { user: {} }, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase USER_DETAILS_REQUEST:\r\n\t\t\treturn { ...state, loading: true };\r\n\t\tcase USER_DETAILS_SUCCESS:\r\n\t\t\treturn { loading: false, user: action.payload };\r\n\t\tcase USER_DETAILS_FAIL:\r\n\t\t\treturn { loading: false, error: action.payload };\r\n\t\tcase USER_DETAILS_RESET:\r\n\t\t\treturn { user: {} };\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport const userUpdateProfileReducer = (state = {}, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase USER_UPDATE_PROFILE_REQUEST:\r\n\t\t\treturn { ...state, loading: true };\r\n\t\tcase USER_UPDATE_PROFILE_SUCCESS:\r\n\t\t\treturn { loading: false, success: true, userInfo: action.payload };\r\n\t\tcase USER_UPDATE_PROFILE_FAIL:\r\n\t\t\treturn { loading: false, error: action.payload };\r\n\t\tcase USER_UPDATE_PROFILE_RESET:\r\n\t\t\treturn { loading: false, user: {} };\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport const userListReducer = (state = { users: [] }, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase USER_LIST_REQUEST:\r\n\t\t\treturn {\r\n\t\t\t\tloading: true,\r\n\t\t\t};\r\n\t\tcase USER_LIST_SUCCESS:\r\n\t\t\treturn {\r\n\t\t\t\tloading: false,\r\n\t\t\t\tusers: action.payload,\r\n\t\t\t};\r\n\t\tcase USER_LIST_FAIL:\r\n\t\t\treturn {\r\n\t\t\t\tloading: false,\r\n\t\t\t\terror: action.payload,\r\n\t\t\t};\r\n\t\tcase USER_LIST_RESET:\r\n\t\t\treturn {\r\n\t\t\t\tusers: [],\r\n\t\t\t};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport const userDeleteReducer = (state = {}, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase USER_DELETE_REQUEST:\r\n\t\t\treturn {\r\n\t\t\t\tloading: true,\r\n\t\t\t};\r\n\t\tcase USER_DELETE_SUCCESS:\r\n\t\t\treturn {\r\n\t\t\t\tloading: false,\r\n\t\t\t\tsuccess: true,\r\n\t\t\t};\r\n\t\tcase USER_DELETE_FAIL:\r\n\t\t\treturn {\r\n\t\t\t\tloading: false,\r\n\t\t\t\terror: action.payload,\r\n\t\t\t};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport const userUpdateReducer = (state = { user: {} }, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase USER_UPDATE_REQUEST:\r\n\t\t\treturn {\r\n\t\t\t\tloading: true,\r\n\t\t\t};\r\n\t\tcase USER_UPDATE_SUCCESS:\r\n\t\t\treturn {\r\n\t\t\t\tloading: false,\r\n\t\t\t\tsuccess: true,\r\n\t\t\t};\r\n\t\tcase USER_UPDATE_FAIL:\r\n\t\t\treturn {\r\n\t\t\t\tloading: false,\r\n\t\t\t\terror: action.payload,\r\n\t\t\t};\r\n\t\tcase USER_UPDATE_RESET:\r\n\t\t\treturn {\r\n\t\t\t\tuser: {},\r\n\t\t\t};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n","import {\r\n\tORDER_CREATE_REQUEST,\r\n\tORDER_CREATE_SUCCESS,\r\n\tORDER_CREATE_FAIL,\r\n\tORDER_DETAILS_REQUEST,\r\n\tORDER_DETAILS_SUCCESS,\r\n\tORDER_DETAILS_FAIL,\r\n\tORDER_PAY_REQUEST,\r\n\tORDER_PAY_SUCCESS,\r\n\tORDER_PAY_FAIL,\r\n\tORDER_PAY_RESET,\r\n\tORDER_LIST_MY_REQUEST,\r\n\tORDER_LIST_MY_SUCCESS,\r\n\tORDER_LIST_MY_FAIL,\r\n\tORDER_LIST_MY_RESET,\r\n\tORDER_LIST_REQUEST,\r\n\tORDER_LIST_SUCCESS,\r\n\tORDER_LIST_FAIL,\r\n\tORDER_DELIVER_REQUEST,\r\n\tORDER_DELIVER_SUCCESS,\r\n\tORDER_DELIVER_FAIL,\r\n\tORDER_DELIVER_RESET,\r\n} from '../constants/orderConstants.js';\r\n\r\nexport const orderCreateReducer = (state = {}, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase ORDER_CREATE_REQUEST:\r\n\t\t\treturn {\r\n\t\t\t\tloading: true,\r\n\t\t\t};\r\n\t\tcase ORDER_CREATE_SUCCESS:\r\n\t\t\treturn {\r\n\t\t\t\tloading: false,\r\n\t\t\t\tsuccess: true,\r\n\t\t\t\torder: action.payload,\r\n\t\t\t};\r\n\t\tcase ORDER_CREATE_FAIL:\r\n\t\t\treturn {\r\n\t\t\t\tloading: false,\r\n\t\t\t\terror: action.payload,\r\n\t\t\t};\r\n\t\tcase ORDER_LIST_MY_RESET:\r\n\t\t\treturn {\r\n\t\t\t\torders: [],\r\n\t\t\t};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport const orderDetailsReducer = (\r\n\tstate = { loading: true, orderItems: [], shippingAddress: {} },\r\n\taction\r\n) => {\r\n\tswitch (action.type) {\r\n\t\tcase ORDER_DETAILS_REQUEST:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloading: true,\r\n\t\t\t};\r\n\t\tcase ORDER_DETAILS_SUCCESS:\r\n\t\t\treturn {\r\n\t\t\t\tloading: false,\r\n\t\t\t\torder: action.payload,\r\n\t\t\t};\r\n\t\tcase ORDER_DETAILS_FAIL:\r\n\t\t\treturn {\r\n\t\t\t\tloading: false,\r\n\t\t\t\terror: action.payload,\r\n\t\t\t};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport const orderPayReducer = (state = {}, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase ORDER_PAY_REQUEST:\r\n\t\t\treturn {\r\n\t\t\t\tloading: true,\r\n\t\t\t};\r\n\t\tcase ORDER_PAY_SUCCESS:\r\n\t\t\treturn {\r\n\t\t\t\tloading: false,\r\n\t\t\t\tsuccess: true,\r\n\t\t\t};\r\n\t\tcase ORDER_PAY_FAIL:\r\n\t\t\treturn {\r\n\t\t\t\tloading: false,\r\n\t\t\t\terror: action.payload,\r\n\t\t\t};\r\n\t\tcase ORDER_PAY_RESET:\r\n\t\t\treturn {};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport const orderDeliverReducer = (state = {}, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase ORDER_DELIVER_REQUEST:\r\n\t\t\treturn {\r\n\t\t\t\tloading: true,\r\n\t\t\t};\r\n\t\tcase ORDER_DELIVER_SUCCESS:\r\n\t\t\treturn {\r\n\t\t\t\tloading: false,\r\n\t\t\t\tsuccess: true,\r\n\t\t\t};\r\n\t\tcase ORDER_DELIVER_FAIL:\r\n\t\t\treturn {\r\n\t\t\t\tloading: false,\r\n\t\t\t\terror: action.payload,\r\n\t\t\t};\r\n\t\tcase ORDER_DELIVER_RESET:\r\n\t\t\treturn {};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport const orderListMyReducer = (state = { orders: [] }, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase ORDER_LIST_MY_REQUEST:\r\n\t\t\treturn {\r\n\t\t\t\tloading: true,\r\n\t\t\t};\r\n\t\tcase ORDER_LIST_MY_SUCCESS:\r\n\t\t\treturn {\r\n\t\t\t\tloading: false,\r\n\t\t\t\torders: action.payload,\r\n\t\t\t};\r\n\t\tcase ORDER_LIST_MY_FAIL:\r\n\t\t\treturn {\r\n\t\t\t\tloading: false,\r\n\t\t\t\terror: action.payload,\r\n\t\t\t};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport const orderListReducer = (state = { orders: [] }, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase ORDER_LIST_REQUEST:\r\n\t\t\treturn {\r\n\t\t\t\tloading: true,\r\n\t\t\t};\r\n\t\tcase ORDER_LIST_SUCCESS:\r\n\t\t\treturn {\r\n\t\t\t\tloading: false,\r\n\t\t\t\torders: action.payload,\r\n\t\t\t};\r\n\t\tcase ORDER_LIST_FAIL:\r\n\t\t\treturn {\r\n\t\t\t\tloading: false,\r\n\t\t\t\torders: action.payload,\r\n\t\t\t};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n","import { useState } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { Form, Button } from 'react-bootstrap';\r\n\r\nconst SearchBox = () => {\r\n\t// The useHistory method is brought in because SearchBox will not have access to the history prop by default since it is embedded within another component. useHistory prevents having to do other workarounds or having to prop-drill while using Redux as well.\r\n\tconst history = useHistory();\r\n\tconst [keyword, setKeyword] = useState('');\r\n\r\n\tconst submitHandler = (e) => {\r\n\t\te.preventDefault();\r\n\t\tif (keyword.trim()) {\r\n\t\t\thistory.push(`/search/${keyword}`);\r\n\t\t} else {\r\n\t\t\thistory.push('/');\r\n\t\t}\r\n\t};\r\n\treturn (\r\n\t\t<Form onSubmit={submitHandler} inline>\r\n\t\t\t<Form.Control\r\n\t\t\t\ttype='text'\r\n\t\t\t\tname='q'\r\n\t\t\t\tonChange={(e) => setKeyword(e.target.value)}\r\n\t\t\t\tplaceholder='Search Products...'\r\n\t\t\t\tclassName='mr-sm-2 ml-sm-5'\r\n\t\t\t></Form.Control>\r\n\t\t\t<Button type='submit' variant='outline-success' className='p-2'>\r\n\t\t\t\tSearch\r\n\t\t\t</Button>\r\n\t\t</Form>\r\n\t);\r\n};\r\n\r\nexport default SearchBox;\r\n","import axios from 'axios';\r\nimport { ORDER_LIST_MY_RESET } from '../constants/orderConstants.js';\r\nimport {\r\n\tUSER_LOGIN_FAIL,\r\n\tUSER_LOGIN_REQUEST,\r\n\tUSER_LOGIN_SUCCESS,\r\n\tUSER_LOGOUT,\r\n\tUSER_REGISTER_FAIL,\r\n\tUSER_REGISTER_REQUEST,\r\n\tUSER_REGISTER_SUCCESS,\r\n\tUSER_DETAILS_FAIL,\r\n\tUSER_DETAILS_REQUEST,\r\n\tUSER_DETAILS_SUCCESS,\r\n\tUSER_UPDATE_PROFILE_FAIL,\r\n\tUSER_UPDATE_PROFILE_REQUEST,\r\n\tUSER_UPDATE_PROFILE_SUCCESS,\r\n\tUSER_UPDATE_PROFILE_RESET,\r\n\tUSER_DETAILS_RESET,\r\n\tUSER_LIST_REQUEST,\r\n\tUSER_LIST_SUCCESS,\r\n\tUSER_LIST_FAIL,\r\n\tUSER_LIST_RESET,\r\n\tUSER_DELETE_REQUEST,\r\n\tUSER_DELETE_SUCCESS,\r\n\tUSER_DELETE_FAIL,\r\n\tUSER_UPDATE_REQUEST,\r\n\tUSER_UPDATE_SUCCESS,\r\n\tUSER_UPDATE_FAIL,\r\n} from '../constants/userConstants.js';\r\n\r\nexport const login = (email, password) => async (dispatch) => {\r\n\ttry {\r\n\t\tdispatch({\r\n\t\t\ttype: USER_LOGIN_REQUEST,\r\n\t\t});\r\n\r\n\t\tconst config = {\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t},\r\n\t\t};\r\n\r\n\t\t// If I understand this correctly, here we are pulling the data object from the response to the axios post request and setting it equal to a constant we call data. The data object in the response is the user's information in the database, provided by the authUser method in the userController.\r\n\t\tconst { data } = await axios.post(\r\n\t\t\t'/api/users/login',\r\n\t\t\t{ email, password },\r\n\t\t\tconfig\r\n\t\t);\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: USER_LOGIN_SUCCESS,\r\n\t\t\tpayload: data,\r\n\t\t});\r\n\r\n\t\tlocalStorage.setItem('userInfo', JSON.stringify(data));\r\n\t} catch (error) {\r\n\t\tdispatch({\r\n\t\t\ttype: USER_LOGIN_FAIL,\r\n\t\t\tpayload:\r\n\t\t\t\terror.response && error.response.data.message\r\n\t\t\t\t\t? error.response.data.message\r\n\t\t\t\t\t: error.message,\r\n\t\t});\r\n\t}\r\n};\r\n\r\nexport const logout = () => (dispatch) => {\r\n\tlocalStorage.removeItem('userInfo');\r\n\tdispatch({ type: USER_DETAILS_RESET });\r\n\tdispatch({ type: USER_UPDATE_PROFILE_RESET });\r\n\tdispatch({ type: ORDER_LIST_MY_RESET });\r\n\tdispatch({ type: USER_LIST_RESET });\r\n\tdispatch({ type: USER_LOGOUT });\r\n};\r\n\r\nexport const register = (name, email, password) => async (dispatch) => {\r\n\ttry {\r\n\t\tdispatch({\r\n\t\t\ttype: USER_REGISTER_REQUEST,\r\n\t\t});\r\n\r\n\t\tconst config = {\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t},\r\n\t\t};\r\n\r\n\t\t// If I understand this correctly, here we are pulling the data object from the response to the axios post request and setting it equal to a constant we call data. The data object in the response is the user's information in the database, provided by the authUser method in the userController.\r\n\t\tconst { data } = await axios.post(\r\n\t\t\t'/api/users',\r\n\t\t\t{ name, email, password },\r\n\t\t\tconfig\r\n\t\t);\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: USER_REGISTER_SUCCESS,\r\n\t\t\tpayload: data,\r\n\t\t});\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: USER_LOGIN_SUCCESS,\r\n\t\t\tpayload: data,\r\n\t\t});\r\n\r\n\t\tlocalStorage.setItem('userInfo', JSON.stringify(data));\r\n\t} catch (error) {\r\n\t\tdispatch({\r\n\t\t\ttype: USER_REGISTER_FAIL,\r\n\t\t\tpayload:\r\n\t\t\t\terror.response && error.response.data.message\r\n\t\t\t\t\t? error.response.data.message\r\n\t\t\t\t\t: error.message,\r\n\t\t});\r\n\t}\r\n};\r\n\r\nexport const getUserDetails = (id) => async (dispatch, getState) => {\r\n\ttry {\r\n\t\tdispatch({\r\n\t\t\ttype: USER_DETAILS_REQUEST,\r\n\t\t});\r\n\r\n\t\t// getState will grab all the state present and here we destructure two levels of state to obtain the userInfo. (I believe this would look like getState().userLogin.userInfo without destructuring.) This is done to obtain the user's token to access the protected updateUserProfile route.\r\n\t\tconst {\r\n\t\t\tuserLogin: { userInfo },\r\n\t\t} = getState();\r\n\r\n\t\tconst config = {\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\tAuthorization: `Bearer ${userInfo.token}`,\r\n\t\t\t},\r\n\t\t};\r\n\r\n\t\tconst { data } = await axios.get(`/api/users/${id}`, config);\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: USER_DETAILS_SUCCESS,\r\n\t\t\tpayload: data,\r\n\t\t});\r\n\t} catch (error) {\r\n\t\tdispatch({\r\n\t\t\ttype: USER_DETAILS_FAIL,\r\n\t\t\tpayload:\r\n\t\t\t\terror.response && error.response.data.message\r\n\t\t\t\t\t? error.response.data.message\r\n\t\t\t\t\t: error.message,\r\n\t\t});\r\n\t}\r\n};\r\n\r\nexport const updateUserProfile = (user) => async (dispatch, getState) => {\r\n\ttry {\r\n\t\tdispatch({\r\n\t\t\ttype: USER_UPDATE_PROFILE_REQUEST,\r\n\t\t});\r\n\r\n\t\tconst {\r\n\t\t\tuserLogin: { userInfo },\r\n\t\t} = getState();\r\n\r\n\t\tconst config = {\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\tAuthorization: `Bearer ${userInfo.token}`,\r\n\t\t\t},\r\n\t\t};\r\n\r\n\t\tconst { data } = await axios.put(`/api/users/profile`, user, config);\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: USER_UPDATE_PROFILE_SUCCESS,\r\n\t\t\tpayload: data,\r\n\t\t});\r\n\t} catch (error) {\r\n\t\tdispatch({\r\n\t\t\ttype: USER_UPDATE_PROFILE_FAIL,\r\n\t\t\tpayload:\r\n\t\t\t\terror.response && error.response.data.message\r\n\t\t\t\t\t? error.response.data.message\r\n\t\t\t\t\t: error.message,\r\n\t\t});\r\n\t}\r\n};\r\n\r\nexport const listUsers = () => async (dispatch, getState) => {\r\n\ttry {\r\n\t\tdispatch({\r\n\t\t\ttype: USER_LIST_REQUEST,\r\n\t\t});\r\n\r\n\t\tconst {\r\n\t\t\tuserLogin: { userInfo },\r\n\t\t} = getState();\r\n\r\n\t\tconst config = {\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: `Bearer ${userInfo.token}`,\r\n\t\t\t},\r\n\t\t};\r\n\r\n\t\tconst { data } = await axios.get('/api/users', config);\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: USER_LIST_SUCCESS,\r\n\t\t\tpayload: data,\r\n\t\t});\r\n\t} catch (error) {\r\n\t\tdispatch({\r\n\t\t\ttype: USER_LIST_FAIL,\r\n\t\t\tpayload:\r\n\t\t\t\terror.response && error.response.data.message\r\n\t\t\t\t\t? error.response.data.message\r\n\t\t\t\t\t: error.response,\r\n\t\t});\r\n\t}\r\n};\r\n\r\nexport const deleteUser = (id) => async (dispatch, getState) => {\r\n\ttry {\r\n\t\tdispatch({\r\n\t\t\ttype: USER_DELETE_REQUEST,\r\n\t\t});\r\n\r\n\t\tconst {\r\n\t\t\tuserLogin: { userInfo },\r\n\t\t} = getState();\r\n\r\n\t\tconst config = {\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: `Bearer ${userInfo.token}`,\r\n\t\t\t},\r\n\t\t};\r\n\r\n\t\tawait axios.delete(`/api/users/${id}`, config);\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: USER_DELETE_SUCCESS,\r\n\t\t});\r\n\t} catch (error) {\r\n\t\tdispatch({\r\n\t\t\ttype: USER_DELETE_FAIL,\r\n\t\t\tpayload:\r\n\t\t\t\terror.response && error.response.data.message\r\n\t\t\t\t\t? error.response.data.message\r\n\t\t\t\t\t: error.response,\r\n\t\t});\r\n\t}\r\n};\r\n\r\nexport const updateUser = (user) => async (dispatch, getState) => {\r\n\ttry {\r\n\t\tdispatch({\r\n\t\t\ttype: USER_UPDATE_REQUEST,\r\n\t\t});\r\n\r\n\t\tconst {\r\n\t\t\tuserLogin: { userInfo },\r\n\t\t} = getState();\r\n\r\n\t\tconst config = {\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\tAuthorization: `Bearer ${userInfo.token}`,\r\n\t\t\t},\r\n\t\t};\r\n\r\n\t\tconst { data } = await axios.put(`/api/users/${user._id}`, user, config);\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: USER_UPDATE_SUCCESS,\r\n\t\t});\r\n\t\t// dispach to user details is done to propogate the user's updated details down into the userDetails state so it can be viewed immediately rather than on an unrelated reload.\r\n\t\tdispatch({\r\n\t\t\ttype: USER_DETAILS_SUCCESS,\r\n\t\t\tpayload: data,\r\n\t\t})\r\n\t} catch (error) {\r\n\t\tdispatch({\r\n\t\t\ttype: USER_UPDATE_FAIL,\r\n\t\t\tpayload:\r\n\t\t\t\terror.response && error.response.data.message\r\n\t\t\t\t\t? error.response.data.message\r\n\t\t\t\t\t: error.response,\r\n\t\t});\r\n\t}\r\n};\r\n","import { Navbar, Nav, NavDropdown, Container } from 'react-bootstrap';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { LinkContainer } from 'react-router-bootstrap';\r\nimport { FaShoppingCart, FaUser } from 'react-icons/fa';\r\nimport SearchBox from './SearchBox.js';\r\nimport { logout } from '../actions/userActions.js';\r\n\r\nconst Header = () => {\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst userLogin = useSelector((state) => state.userLogin);\r\n\tconst { userInfo } = userLogin;\r\n\r\n\tconst logoutHandler = () => {\r\n\t\tdispatch(logout());\r\n\t};\r\n\treturn (\r\n\t\t<header>\r\n\t\t\t<Navbar bg='dark' variant='dark' expand='lg' collapseOnSelect>\r\n\t\t\t\t<Container>\r\n\t\t\t\t\t<LinkContainer to='/'>\r\n\t\t\t\t\t\t<Navbar.Brand>ProShop</Navbar.Brand>\r\n\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t\t<Navbar.Toggle aria-controls='basic-navbar-nav' />\r\n\t\t\t\t\t<Navbar.Collapse id='basic-navbar-nav'>\r\n\t\t\t\t\t\t<SearchBox />\r\n\t\t\t\t\t\t<Nav className='ms-auto'>\r\n\t\t\t\t\t\t\t<LinkContainer to='/cart'>\r\n\t\t\t\t\t\t\t\t<Nav.Link>\r\n\t\t\t\t\t\t\t\t\t<FaShoppingCart /> Cart\r\n\t\t\t\t\t\t\t\t</Nav.Link>\r\n\t\t\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t\t\t\t{userInfo ? (\r\n\t\t\t\t\t\t\t\t<NavDropdown title={userInfo.name} id='username'>\r\n\t\t\t\t\t\t\t\t\t<LinkContainer to='/profile'>\r\n\t\t\t\t\t\t\t\t\t\t<NavDropdown.Item>Profile</NavDropdown.Item>\r\n\t\t\t\t\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t\t\t\t\t\t<NavDropdown.Item onClick={logoutHandler}>\r\n\t\t\t\t\t\t\t\t\t\tLogout\r\n\t\t\t\t\t\t\t\t\t</NavDropdown.Item>\r\n\t\t\t\t\t\t\t\t</NavDropdown>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<LinkContainer to='/login'>\r\n\t\t\t\t\t\t\t\t\t<Nav.Link>\r\n\t\t\t\t\t\t\t\t\t\t<FaUser /> Sign In\r\n\t\t\t\t\t\t\t\t\t</Nav.Link>\r\n\t\t\t\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t{userInfo && userInfo.isAdmin && (\r\n\t\t\t\t\t\t\t\t<NavDropdown title='Admin' id='adminmenu'>\r\n\t\t\t\t\t\t\t\t\t<LinkContainer to='/admin/userlist'>\r\n\t\t\t\t\t\t\t\t\t\t<NavDropdown.Item>Users</NavDropdown.Item>\r\n\t\t\t\t\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t\t\t\t\t\t<LinkContainer to='/admin/productlist'>\r\n\t\t\t\t\t\t\t\t\t\t<NavDropdown.Item>Products</NavDropdown.Item>\r\n\t\t\t\t\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t\t\t\t\t\t<LinkContainer to='/admin/orderlist'>\r\n\t\t\t\t\t\t\t\t\t\t<NavDropdown.Item>Orders</NavDropdown.Item>\r\n\t\t\t\t\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t\t\t\t\t</NavDropdown>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Nav>\r\n\t\t\t\t\t</Navbar.Collapse>\r\n\t\t\t\t</Container>\r\n\t\t\t</Navbar>\r\n\t\t</header>\r\n\t);\r\n};\r\n\r\nexport default Header;\r\n","import { Container, Row, Col } from 'react-bootstrap';\r\n\r\nconst Footer = () => {\r\n\treturn (\r\n\t\t<footer>\r\n\t\t\t<Container>\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col className='text-center py-3'>Copyright &copy; ProShop</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t</Container>\r\n\t\t</footer>\r\n\t);\r\n};\r\n\r\nexport default Footer;\r\n","import PropTypes from 'prop-types';\r\nimport { FaRegStar, FaStar, FaStarHalfAlt } from 'react-icons/fa';\r\n\r\nconst Rating = ({ value, text, color }) => {\r\n\treturn (\r\n\t\t<div className='rating'>\r\n\t\t\t<span style={{ color }}>\r\n\t\t\t\t{value >= 1 ? (\r\n\t\t\t\t\t<FaStar />\r\n\t\t\t\t) : value >= 0.5 ? (\r\n\t\t\t\t\t<FaStarHalfAlt />\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<FaRegStar />\r\n\t\t\t\t)}\r\n\t\t\t</span>\r\n\t\t\t<span style={{ color }}>\r\n\t\t\t\t{value >= 2 ? (\r\n\t\t\t\t\t<FaStar />\r\n\t\t\t\t) : value >= 1.5 ? (\r\n\t\t\t\t\t<FaStarHalfAlt />\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<FaRegStar />\r\n\t\t\t\t)}\r\n\t\t\t</span>\r\n\t\t\t<span style={{ color }}>\r\n\t\t\t\t{value >= 3 ? (\r\n\t\t\t\t\t<FaStar />\r\n\t\t\t\t) : value >= 2.5 ? (\r\n\t\t\t\t\t<FaStarHalfAlt />\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<FaRegStar />\r\n\t\t\t\t)}\r\n\t\t\t</span>\r\n\t\t\t<span style={{ color }}>\r\n\t\t\t\t{value >= 4 ? (\r\n\t\t\t\t\t<FaStar />\r\n\t\t\t\t) : value >= 3.5 ? (\r\n\t\t\t\t\t<FaStarHalfAlt />\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<FaRegStar />\r\n\t\t\t\t)}\r\n\t\t\t</span>\r\n\t\t\t<span style={{ color }}>\r\n\t\t\t\t{value >= 5 ? (\r\n\t\t\t\t\t<FaStar />\r\n\t\t\t\t) : value >= 4.5 ? (\r\n\t\t\t\t\t<FaStarHalfAlt />\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<FaRegStar />\r\n\t\t\t\t)}\r\n\t\t\t</span>\r\n\t\t\t<span>{text && text}</span>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nRating.defaultProps = {\r\n\tcolor: '#f8e825',\r\n};\r\n\r\nRating.propTypes = {\r\n\tvalue: PropTypes.number.isRequired,\r\n\ttext: PropTypes.string.isRequired,\r\n\tcolor: PropTypes.string,\r\n};\r\n\r\nexport default Rating;\r\n","import { Link } from 'react-router-dom';\r\nimport { Card } from 'react-bootstrap';\r\nimport Rating from './Rating.js';\r\n\r\nconst Product = ({ product }) => {\r\n\treturn (\r\n\t\t<Card className='my-3 py-3 rounded'>\r\n\t\t\t<Link to={`/product/${product._id}`}>\r\n\t\t\t\t<Card.Img src={product.image} variant='top' />\r\n\t\t\t</Link>\r\n\t\t\t<Card.Body>\r\n\t\t\t\t<Link to={`/product/${product._id}`}>\r\n\t\t\t\t\t<Card.Title as='div'>\r\n\t\t\t\t\t\t<strong>{product.name}</strong>\r\n\t\t\t\t\t</Card.Title>\r\n\t\t\t\t</Link>\r\n\t\t\t\t<Card.Text as='div'>\r\n\t\t\t\t\t<Rating\r\n\t\t\t\t\t\tvalue={product.rating}\r\n\t\t\t\t\t\ttext={` ${product.numReviews} reviews`}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Card.Text>\r\n\t\t\t\t<Card.Text as='h3'>${product.price}</Card.Text>\r\n\t\t\t</Card.Body>\r\n\t\t</Card>\r\n\t);\r\n};\r\n\r\nexport default Product;\r\n","import React from 'react';\r\nimport { Spinner } from 'react-bootstrap';\r\n\r\nconst Loader = () => {\r\n\treturn (\r\n\t\t<Spinner\r\n\t\t\tanimation='border'\r\n\t\t\trole='status'\r\n\t\t\tstyle={{\r\n\t\t\t\twidth: '100px',\r\n\t\t\t\theight: '100px',\r\n\t\t\t\tmargin: 'auto',\r\n\t\t\t\tdisplay: 'block',\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<span className='sr-only'>Loading...</span>\r\n\t\t</Spinner>\r\n\t);\r\n};\r\n\r\nexport default Loader;\r\n","import React from 'react';\r\nimport { Alert } from 'react-bootstrap';\r\n\r\nconst Message = ({ variant, children }) => {\r\n\treturn <Alert variant={variant}>{children}</Alert>;\r\n};\r\n\r\nMessage.defaultProps = {\r\n\tvariant: 'info',\r\n};\r\n\r\nexport default Message;\r\n","import { Pagination } from 'react-bootstrap';\r\nimport { LinkContainer } from 'react-router-bootstrap';\r\n\r\nconst Paginate = ({ pages, page, isAdmin = false, keyword = '' }) => {\r\n\treturn (\r\n\t\tpages > 1 && (\r\n\t\t\t<Pagination>\r\n\t\t\t\t{[...Array(pages).keys()].map((p) => (\r\n\t\t\t\t\t<LinkContainer\r\n\t\t\t\t\t\tkey={p + 1}\r\n\t\t\t\t\t\tto={\r\n\t\t\t\t\t\t\t!isAdmin\r\n\t\t\t\t\t\t\t\t? keyword\r\n\t\t\t\t\t\t\t\t\t? `/search/${keyword}/page/${p + 1}`\r\n\t\t\t\t\t\t\t\t\t: `/page/${p + 1}`\r\n\t\t\t\t\t\t\t\t: `/admin/productlist/${p + 1}`\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Pagination.Item active={p + 1 === page} activeLabel={false}>\r\n\t\t\t\t\t\t\t{p + 1}\r\n\t\t\t\t\t\t</Pagination.Item>\r\n\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t))}\r\n\t\t\t</Pagination>\r\n\t\t)\r\n\t);\r\n};\r\n\r\nexport default Paginate;\r\n","import axios from 'axios';\r\nimport {\r\n\tPRODUCT_LIST_FAIL,\r\n\tPRODUCT_LIST_SUCCESS,\r\n\tPRODUCT_LIST_REQUEST,\r\n\tPRODUCT_DETAILS_FAIL,\r\n\tPRODUCT_DETAILS_SUCCESS,\r\n\tPRODUCT_DETAILS_REQUEST,\r\n\tPRODUCT_DELETE_REQUEST,\r\n\tPRODUCT_DELETE_SUCCESS,\r\n\tPRODUCT_DELETE_FAIL,\r\n\tPRODUCT_CREATE_REQUEST,\r\n\tPRODUCT_CREATE_FAIL,\r\n\tPRODUCT_CREATE_SUCCESS,\r\n\tPRODUCT_UPDATE_REQUEST,\r\n\tPRODUCT_UPDATE_SUCCESS,\r\n\tPRODUCT_UPDATE_FAIL,\r\n\tPRODUCT_CREATE_REVIEW_FAIL,\r\n\tPRODUCT_CREATE_REVIEW_REQUEST,\r\n\tPRODUCT_CREATE_REVIEW_SUCCESS,\r\n\tPRODUCT_TOP_FAIL,\r\n\tPRODUCT_TOP_REQUEST,\r\n\tPRODUCT_TOP_SUCCESS,\r\n} from '../constants/productConstants.js';\r\n\r\nexport const listProducts =\r\n\t(keyword = '', pageNumber = '') =>\r\n\tasync (dispatch) => {\r\n\t\ttry {\r\n\t\t\tdispatch({ type: PRODUCT_LIST_REQUEST });\r\n\r\n\t\t\tconst { data } = await axios.get(\r\n\t\t\t\t`/api/products?keyword=${keyword}&pageNumber=${pageNumber}`\r\n\t\t\t);\r\n\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: PRODUCT_LIST_SUCCESS,\r\n\t\t\t\tpayload: data,\r\n\t\t\t});\r\n\t\t} catch (error) {\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: PRODUCT_LIST_FAIL,\r\n\t\t\t\tpayload:\r\n\t\t\t\t\terror.response && error.response.data.message\r\n\t\t\t\t\t\t? error.response.data.message\r\n\t\t\t\t\t\t: error.message,\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\nexport const listProductDetails = (id) => async (dispatch) => {\r\n\ttry {\r\n\t\tdispatch({ type: PRODUCT_DETAILS_REQUEST });\r\n\r\n\t\tconst { data } = await axios.get(`/api/products/${id}`);\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: PRODUCT_DETAILS_SUCCESS,\r\n\t\t\tpayload: data,\r\n\t\t});\r\n\t} catch (error) {\r\n\t\tdispatch({\r\n\t\t\ttype: PRODUCT_DETAILS_FAIL,\r\n\t\t\tpayload:\r\n\t\t\t\terror.response && error.response.data.message\r\n\t\t\t\t\t? error.response.data.message\r\n\t\t\t\t\t: error.message,\r\n\t\t});\r\n\t}\r\n};\r\n\r\nexport const deleteProduct = (id) => async (dispatch, getState) => {\r\n\ttry {\r\n\t\tdispatch({\r\n\t\t\ttype: PRODUCT_DELETE_REQUEST,\r\n\t\t});\r\n\r\n\t\tconst {\r\n\t\t\tuserLogin: { userInfo },\r\n\t\t} = getState();\r\n\r\n\t\tconst config = {\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: `Bearer ${userInfo.token}`,\r\n\t\t\t},\r\n\t\t};\r\n\r\n\t\tawait axios.delete(`/api/products/${id}`, config);\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: PRODUCT_DELETE_SUCCESS,\r\n\t\t});\r\n\t} catch (error) {\r\n\t\tdispatch({\r\n\t\t\ttype: PRODUCT_DELETE_FAIL,\r\n\t\t\tpayload:\r\n\t\t\t\terror.response && error.response.data.message\r\n\t\t\t\t\t? error.response.data.message\r\n\t\t\t\t\t: error.message,\r\n\t\t});\r\n\t}\r\n};\r\n\r\nexport const createProduct = () => async (dispatch, getState) => {\r\n\ttry {\r\n\t\tdispatch({\r\n\t\t\ttype: PRODUCT_CREATE_REQUEST,\r\n\t\t});\r\n\r\n\t\tconst {\r\n\t\t\tuserLogin: { userInfo },\r\n\t\t} = getState();\r\n\r\n\t\tconst config = {\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: `Bearer ${userInfo.token}`,\r\n\t\t\t},\r\n\t\t};\r\n\r\n\t\t// the second argument is an empty object since this is a post request that posts new data but we are not sending that data in this post request. It is posted via the createProduct endpoint route. The response data will contain the sample product data from the endpoint, which is then dispatched to state to populate the fields on the createProductScreen form.\r\n\t\tconst { data } = await axios.post('/api/products', {}, config);\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: PRODUCT_CREATE_SUCCESS,\r\n\t\t\tpayload: data,\r\n\t\t});\r\n\t} catch (error) {\r\n\t\tdispatch({\r\n\t\t\ttype: PRODUCT_CREATE_FAIL,\r\n\t\t\tpayload:\r\n\t\t\t\terror.response && error.response.data.message\r\n\t\t\t\t\t? error.response.data.message\r\n\t\t\t\t\t: error.response,\r\n\t\t});\r\n\t}\r\n};\r\n\r\nexport const updateProduct = (product) => async (dispatch, getState) => {\r\n\ttry {\r\n\t\tdispatch({\r\n\t\t\ttype: PRODUCT_UPDATE_REQUEST,\r\n\t\t});\r\n\r\n\t\tconst {\r\n\t\t\tuserLogin: { userInfo },\r\n\t\t} = getState();\r\n\r\n\t\tconst config = {\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\tAuthorization: `Bearer ${userInfo.token}`,\r\n\t\t\t},\r\n\t\t};\r\n\r\n\t\tconst { data } = await axios.put(\r\n\t\t\t`/api/products/${product._id}`,\r\n\t\t\tproduct,\r\n\t\t\tconfig\r\n\t\t);\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: PRODUCT_UPDATE_SUCCESS,\r\n\t\t\tpayload: data,\r\n\t\t});\r\n\t} catch (error) {\r\n\t\tdispatch({\r\n\t\t\ttype: PRODUCT_UPDATE_FAIL,\r\n\t\t\tpayload:\r\n\t\t\t\terror.response && error.response.data.message\r\n\t\t\t\t\t? error.response.data.message\r\n\t\t\t\t\t: error.response,\r\n\t\t});\r\n\t}\r\n};\r\n\r\nexport const createProductReview =\r\n\t(productId, review) => async (dispatch, getState) => {\r\n\t\ttry {\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: PRODUCT_CREATE_REVIEW_REQUEST,\r\n\t\t\t});\r\n\r\n\t\t\tconst {\r\n\t\t\t\tuserLogin: { userInfo },\r\n\t\t\t} = getState();\r\n\r\n\t\t\tconst config = {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t\tAuthorization: `Bearer ${userInfo.token}`,\r\n\t\t\t\t},\r\n\t\t\t};\r\n\r\n\t\t\tawait axios.post(`/api/products/${productId}/reviews`, review, config);\r\n\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: PRODUCT_CREATE_REVIEW_SUCCESS,\r\n\t\t\t});\r\n\t\t} catch (error) {\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: PRODUCT_CREATE_REVIEW_FAIL,\r\n\t\t\t\tpayload:\r\n\t\t\t\t\terror.response && error.response.data.message\r\n\t\t\t\t\t\t? error.response.data.message\r\n\t\t\t\t\t\t: error.response,\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\nexport const listTopProducts = () => async (dispatch) => {\r\n\ttry {\r\n\t\tdispatch({\r\n\t\t\ttype: PRODUCT_TOP_REQUEST,\r\n\t\t});\r\n\r\n\t\tconst { data } = await axios.get('/api/products/top');\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: PRODUCT_TOP_SUCCESS,\r\n\t\t\tpayload: data,\r\n\t\t});\r\n\t} catch (error) {\r\n\t\tdispatch({\r\n\t\t\ttype: PRODUCT_TOP_FAIL,\r\n\t\t\tpayload:\r\n\t\t\t\terror.response && error.response.data.message\r\n\t\t\t\t\t? error.response.data.message\r\n\t\t\t\t\t: error.response,\r\n\t\t});\r\n\t}\r\n};\r\n","import { useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Carousel, Image } from 'react-bootstrap';\r\nimport Loader from './Loader.js';\r\nimport Message from './Message.js';\r\nimport { listTopProducts } from '../actions/productActions.js';\r\n\r\nconst ProductCarousel = () => {\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst productTopRated = useSelector((state) => state.productTopRated);\r\n\tconst { loading, error, products } = productTopRated;\r\n\r\n\tuseEffect(() => {\r\n\t\tdispatch(listTopProducts());\r\n\t}, [dispatch]);\r\n\r\n\treturn loading ? (\r\n\t\t<Loader />\r\n\t) : error ? (\r\n\t\t<Message variant='danger'>{error}</Message>\r\n\t) : (\r\n\t\t<Carousel pause='hover' className='bg-dark'>\r\n\t\t\t{products.map((product) => (\r\n\t\t\t\t<Carousel.Item key={product._id}>\r\n\t\t\t\t\t<Link to={`/product/${product._id}`}>\r\n\t\t\t\t\t\t<Image src={product.image} alt={product.name} fluid />\r\n\t\t\t\t\t\t<Carousel.Caption className='carousel-caption'>\r\n\t\t\t\t\t\t\t<h2>\r\n\t\t\t\t\t\t\t\t{product.name} (${product.price})\r\n\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t</Carousel.Caption>\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</Carousel.Item>\r\n\t\t\t))}\r\n\t\t</Carousel>\r\n\t);\r\n};\r\n\r\nexport default ProductCarousel;\r\n","import { Helmet } from 'react-helmet';\r\n\r\nconst Meta = ({ title, description, keywords }) => {\r\n\treturn (\r\n\t\t<Helmet>\r\n\t\t\t<title>{title}</title>\r\n\t\t\t<meta name='description' content={description} />\r\n\t\t\t<meta name='keywords' content={keywords} />\r\n\t\t</Helmet>\r\n\t);\r\n};\r\n\r\nMeta.defaultProps = {\r\n\ttitle: 'Welcome to ProShop',\r\n\tdescription: 'We sell the best products for cheap',\r\n\tkeywords: 'electronics, buy electronics, cheap electronics',\r\n};\r\n\r\nexport default Meta;\r\n","import { useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Row, Col } from 'react-bootstrap';\r\nimport Product from '../components/Product.js';\r\nimport Loader from '../components/Loader.js';\r\nimport Message from '../components/Message.js';\r\nimport Paginate from '../components/Paginate.js';\r\nimport ProductCarousel from '../components/ProductCarousel.js';\r\nimport Meta from '../components/Meta.js';\r\nimport { listProducts } from '../actions/productActions';\r\n\r\nconst HomeScreen = ({ match }) => {\r\n\tconst keyword = match.params.keyword;\r\n\r\n\tconst pageNumber = match.params.pageNumber || 1;\r\n\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst productList = useSelector((state) => state.productList);\r\n\tconst { loading, error, products, page, pages } = productList;\r\n\r\n\tuseEffect(() => {\r\n\t\tdispatch(listProducts(keyword, pageNumber));\r\n\t}, [dispatch, keyword, pageNumber]);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Meta />\r\n\t\t\t{!keyword ? <ProductCarousel /> : <Link to='/' className='btn btn-light'>Go Back</Link>}\r\n\t\t\t<h1>Latest Products</h1>\r\n\t\t\t{loading ? (\r\n\t\t\t\t<Loader />\r\n\t\t\t) : error ? (\r\n\t\t\t\t<Message variant='danger'>{error}</Message>\r\n\t\t\t) : (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t{products.map((product) => (\r\n\t\t\t\t\t\t\t<Col key={product._id} sm={12} md={6} lg={4} xl={3}>\r\n\t\t\t\t\t\t\t\t<Product product={product} />\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t\t<Paginate\r\n\t\t\t\t\t\tpages={pages}\r\n\t\t\t\t\t\tpage={page}\r\n\t\t\t\t\t\tkeyword={keyword ? keyword : ''}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</>\r\n\t\t\t)}\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default HomeScreen;\r\n","import { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport {\r\n\tRow,\r\n\tCol,\r\n\tImage,\r\n\tListGroup,\r\n\tCard,\r\n\tButton,\r\n\tForm,\r\n} from 'react-bootstrap';\r\nimport Loader from '../components/Loader.js';\r\nimport Message from '../components/Message.js';\r\nimport Rating from '../components/Rating.js';\r\nimport Meta from '../components/Meta.js';\r\nimport {\r\n\tlistProductDetails,\r\n\tcreateProductReview,\r\n} from '../actions/productActions.js';\r\nimport { PRODUCT_CREATE_REVIEW_RESET } from '../constants/productConstants.js';\r\n\r\n// match is a prop for React Router. The match prop is destructured here so props.match isn't necessar, just match. See reactrouter.com/web/api/match for more info.\r\nconst ProductScreen = ({ history, match }) => {\r\n\tconst [qty, setQty] = useState(1);\r\n\tconst [rating, setRating] = useState(0);\r\n\tconst [comment, setComment] = useState('');\r\n\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst productDetails = useSelector((state) => state.productDetails);\r\n\tconst { loading, error, product } = productDetails;\r\n\r\n\tconst productReviewCreate = useSelector((state) => state.productReviewCreate);\r\n\tconst { error: errorProductReview, success: successProductReview } =\r\n\t\tproductReviewCreate;\r\n\r\n\tconst userLogin = useSelector((state) => state.userLogin);\r\n\tconst { userInfo } = userLogin;\r\n\r\n\tuseEffect(() => {\r\n\t\tif (successProductReview) {\r\n\t\t\talert('Review Submitted!');\r\n\t\t\tsetRating(0);\r\n\t\t\tsetComment('');\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: PRODUCT_CREATE_REVIEW_RESET,\r\n\t\t\t});\r\n\t\t}\r\n\t\tdispatch(listProductDetails(match.params.id));\r\n\t}, [dispatch, match, successProductReview]);\r\n\r\n\tconst addToCartHandler = () => {\r\n\t\thistory.push(`/cart/${match.params.id}?qty=${qty}`);\r\n\t};\r\n\r\n\tconst submitHandler = (e) => {\r\n\t\te.preventDefault();\r\n\t\tdispatch(createProductReview(match.params.id, { rating, comment }));\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Link className='btn btn-light my-3' to='/'>\r\n\t\t\t\tGo Back\r\n\t\t\t</Link>\r\n\t\t\t{loading ? (\r\n\t\t\t\t<Loader />\r\n\t\t\t) : error ? (\r\n\t\t\t\t<Message variant='danger'>{error}</Message>\r\n\t\t\t) : (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<Meta title={product.name} />\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t<Col md={6}>\r\n\t\t\t\t\t\t\t<Image src={product.image} alt={product.name} fluid />\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col md={3}>\r\n\t\t\t\t\t\t\t<ListGroup variant='flush'>\r\n\t\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t<h3>{product.name}</h3>\r\n\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t<Rating\r\n\t\t\t\t\t\t\t\t\t\tvalue={product.rating}\r\n\t\t\t\t\t\t\t\t\t\ttext={`${product.numReviews} reviews`}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t<ListGroup.Item>Price: ${product.price}</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\tDescription: {product.description}\r\n\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col md={3}>\r\n\t\t\t\t\t\t\t<Card>\r\n\t\t\t\t\t\t\t\t<ListGroup variant='flush'>\r\n\t\t\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t<Col>Price:</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<strong>${product.price}</strong>\r\n\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t<Col>Status:</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{product.countInStock > 0 ? 'In Stock' : 'Out of Stock'}\r\n\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\r\n\t\t\t\t\t\t\t\t\t{product.countInStock > 0 && (\r\n\t\t\t\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Col>Qty</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tas='select'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={qty}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => setQty(e.target.value)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{[...Array(product.countInStock).keys()].map(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(x) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option key={x + 1} value={x + 1}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{x + 1}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Form.Control>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={addToCartHandler}\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype='button'\r\n\t\t\t\t\t\t\t\t\t\t\t\tdisabled={product.countInStock === 0}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\tAdd to Cart\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t<Col md={6}>\r\n\t\t\t\t\t\t\t<h2>Reviews</h2>\r\n\t\t\t\t\t\t\t{product.reviews.length === 0 && <Message>No Reviews</Message>}\r\n\t\t\t\t\t\t\t<ListGroup variant='flush'>\r\n\t\t\t\t\t\t\t\t{product.reviews.map((review) => (\r\n\t\t\t\t\t\t\t\t\t<ListGroup.Item key={review._id}>\r\n\t\t\t\t\t\t\t\t\t\t<strong>{review.name}</strong>\r\n\t\t\t\t\t\t\t\t\t\t<Rating value={review.rating} />\r\n\t\t\t\t\t\t\t\t\t\t<p>{review.createdAt.substring(0, 10)}</p>\r\n\t\t\t\t\t\t\t\t\t\t<p>{review.comment}</p>\r\n\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t<h2>Write a Customer Review</h2>\r\n\t\t\t\t\t\t\t\t\t{errorProductReview && (\r\n\t\t\t\t\t\t\t\t\t\t<Message variant='danger'>{errorProductReview}</Message>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t{userInfo ? (\r\n\t\t\t\t\t\t\t\t\t\t<Form onSubmit={submitHandler}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Group controlId='rating'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label>Rating</Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tas='select'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={rating}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => setRating(e.target.value)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=''>Select...</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value='1'>1 - Poor</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value='2'>2 - Fair</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value='3'>3 - Good</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value='4'>4 - Very Good</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value='5'>5 - Excellent</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Form.Control>\r\n\t\t\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Group controlId='comment' className='my-3'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label>Comment</Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tas='textarea'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trow='3'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={comment}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => setComment(e.target.value)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t></Form.Control>\r\n\t\t\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t\t\t<Button type='submit' variant='primary'>\r\n\t\t\t\t\t\t\t\t\t\t\t\tSubmit Review\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<Message>\r\n\t\t\t\t\t\t\t\t\t\t\tPlease <Link to='/login'>Sign In</Link> to write a review.\r\n\t\t\t\t\t\t\t\t\t\t</Message>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t</>\r\n\t\t\t)}\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default ProductScreen;\r\n","import axios from 'axios';\r\nimport {\r\n\tCART_ADD_ITEM,\r\n\tCART_REMOVE_ITEM,\r\n\tCART_SAVE_SHIPPING_ADDRESS,\r\n\tCART_SAVE_PAYMENT_METHOD,\r\n} from '../constants/cartConstants.js';\r\n\r\nexport const addToCart = (id, qty) => async (dispatch, getState) => {\r\n\tconst { data } = await axios.get(`/api/products/${id}`);\r\n\r\n\tdispatch({\r\n\t\ttype: CART_ADD_ITEM,\r\n\t\tpayload: {\r\n\t\t\tproduct: data._id,\r\n\t\t\tname: data.name,\r\n\t\t\timage: data.image,\r\n\t\t\tprice: data.price,\r\n\t\t\tcountInStock: data.countInStock,\r\n\t\t\tqty,\r\n\t\t},\r\n\t});\r\n\r\n\tlocalStorage.setItem('cartItems', JSON.stringify(getState().cart.cartItems));\r\n};\r\n\r\nexport const removeFromCart = (id) => (dispatch, getState) => {\r\n\tdispatch({\r\n\t\ttype: CART_REMOVE_ITEM,\r\n\t\tpayload: id,\r\n\t});\r\n\r\n\tlocalStorage.setItem('cartItems', JSON.stringify(getState().cart.cartItems));\r\n};\r\n\r\nexport const saveShippingAddress = (data) => (dispatch) => {\r\n\tdispatch({\r\n\t\ttype: CART_SAVE_SHIPPING_ADDRESS,\r\n\t\tpayload: data,\r\n\t});\r\n\r\n\tlocalStorage.setItem('shippingAddress', JSON.stringify(data));\r\n};\r\n\r\nexport const savePaymentMethod = (data) => (dispatch) => {\r\n\tdispatch({\r\n\t\ttype: CART_SAVE_PAYMENT_METHOD,\r\n\t\tpayload: data,\r\n\t});\r\n\r\n\tlocalStorage.setItem('paymentMethod', JSON.stringify(data));\r\n};\r\n","import { useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport {\r\n\tRow,\r\n\tCol,\r\n\tListGroup,\r\n\tImage,\r\n\tForm,\r\n\tButton,\r\n\tCard,\r\n} from 'react-bootstrap';\r\nimport { FaTrash } from 'react-icons/fa';\r\nimport Message from '../components/Message.js';\r\nimport { addToCart, removeFromCart } from '../actions/cartActions.js';\r\n\r\nconst CartScreen = ({ match, location, history }) => {\r\n\tconst productId = match.params.id;\r\n\r\n\t// Here we are grabbing the query parameter(anything after the ? in a route), here it will be ?qty=x, and setting the quantity in the cart to the number(x) in that search query, else setting it to 1 if there is no search query.\r\n\tconst qty = location.search ? Number(location.search.split('=')[1]) : 1;\r\n\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst cart = useSelector((state) => state.cart);\r\n\tconst { cartItems } = cart;\r\n\r\n\tuseEffect(() => {\r\n\t\tif (productId) {\r\n\t\t\tdispatch(addToCart(productId, qty));\r\n\t\t}\r\n\t}, [dispatch, productId, qty]);\r\n\r\n\tconst removeFromCartHandler = (id) => {\r\n\t\tdispatch(removeFromCart(id));\r\n\t};\r\n\r\n\tconst checkoutHandler = () => {\r\n\t\thistory.push('/login?redirect=shipping');\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Row>\r\n\t\t\t<Col md={8}>\r\n\t\t\t\t<h1>Shopping Cart</h1>\r\n\t\t\t\t{cartItems.length === 0 ? (\r\n\t\t\t\t\t<Message>\r\n\t\t\t\t\t\tYour cart is empty <Link to='/'>Go Back</Link>\r\n\t\t\t\t\t</Message>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<ListGroup variant='flush'>\r\n\t\t\t\t\t\t{cartItems.map((item) => (\r\n\t\t\t\t\t\t\t<ListGroup.Item key={item.product}>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col md={2}>\r\n\t\t\t\t\t\t\t\t\t\t<Image src={item.image} alt={item.name} fluid rounded />\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t<Col md={3}>\r\n\t\t\t\t\t\t\t\t\t\t<Link to={`/product/${item.product}`}>{item.name}</Link>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t<Col md={2}>{item.price}</Col>\r\n\t\t\t\t\t\t\t\t\t<Col md={3}>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\tas='select'\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={item.qty}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\tdispatch(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\taddToCart(item.product, Number(e.target.value))\r\n\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{[...Array(item.countInStock).keys()].map((x) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<option key={x + 1} value={x + 1}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{x + 1}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t</Form.Control>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t<Col md={2}>\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\ttype='button'\r\n\t\t\t\t\t\t\t\t\t\t\tvariant='light'\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => removeFromCartHandler(item.product)}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<FaTrash />\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</ListGroup>\r\n\t\t\t\t)}\r\n\t\t\t</Col>\r\n\t\t\t<Col md={4}>\r\n\t\t\t\t<Card>\r\n\t\t\t\t\t<ListGroup variant='flush'>\r\n\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t<h2>\r\n\t\t\t\t\t\t\t\tSubtotal ({cartItems.reduce((acc, item) => acc + item.qty, 0)})\r\n\t\t\t\t\t\t\t\titems\r\n\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t\t$\r\n\t\t\t\t\t\t\t{cartItems\r\n\t\t\t\t\t\t\t\t.reduce((acc, item) => acc + item.qty * item.price, 0)\r\n\t\t\t\t\t\t\t\t.toFixed(2)}\r\n\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\ttype='button'\r\n\t\t\t\t\t\t\t\tdisabled={cartItems.length === 0}\r\n\t\t\t\t\t\t\t\tonClick={checkoutHandler}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tProceed To Checkout\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t</ListGroup>\r\n\t\t\t\t</Card>\r\n\t\t\t</Col>\r\n\t\t\t<Col md={8}></Col>\r\n\t\t</Row>\r\n\t);\r\n};\r\n\r\nexport default CartScreen;\r\n","import { Container, Row, Col } from 'react-bootstrap';\r\n\r\nconst FormContainer = ({ children }) => {\r\n\treturn (\r\n\t\t<Container>\r\n\t\t\t<Row className='justify-content-md-center'>\r\n\t\t\t\t<Col xs={12} md={6}>\r\n\t\t\t\t\t{children}\r\n\t\t\t\t</Col>\r\n\t\t\t</Row>\r\n\t\t</Container>\r\n\t);\r\n};\r\n\r\nexport default FormContainer;\r\n","import { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { Form, Button, Row, Col } from 'react-bootstrap';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport Message from '../components/Message.js';\r\nimport Loader from '../components/Loader.js';\r\nimport FormContainer from '../components/FormContainer.js';\r\nimport { login } from '../actions/userActions.js';\r\n\r\nconst LoginScreen = ({ location, history }) => {\r\n\tconst [email, setEmail] = useState('');\r\n\tconst [password, setPassword] = useState('');\r\n\r\n\tconst dispatch = useDispatch();\r\n    \r\n\tconst userLogin = useSelector((state) => state.userLogin);\r\n\tconst { loading, error, userInfo } = userLogin;\r\n    \r\n\tconst redirect = location.search ? location.search.split('=')[1] : '/';\r\n\r\n\tuseEffect(() => {\r\n\t\tif (userInfo) {\r\n\t\t\thistory.push(redirect);\r\n\t\t}\r\n\t}, [history, userInfo, redirect]);\r\n\r\n\tconst submitHandler = (e) => {\r\n\t\te.preventDefault();\r\n\t\tdispatch(login(email, password));\r\n\t};\r\n\r\n\treturn (\r\n\t\t<FormContainer>\r\n\t\t\t<h1>Sign In</h1>\r\n\t\t\t{error && <Message variant='danger'>{error}</Message>}\r\n\t\t\t{loading && <Loader />}\r\n\t\t\t<Form onSubmit={submitHandler}>\r\n\t\t\t\t<Form.Group controlId='email'>\r\n\t\t\t\t\t<Form.Label>Email Address</Form.Label>\r\n\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\ttype='email'\r\n\t\t\t\t\t\tplaceholder='Enter email'\r\n\t\t\t\t\t\tvalue={email}\r\n\t\t\t\t\t\tonChange={(e) => setEmail(e.target.value)}\r\n\t\t\t\t\t></Form.Control>\r\n\t\t\t\t</Form.Group>\r\n\t\t\t\t<Form.Group controlId='password'>\r\n\t\t\t\t\t<Form.Label>Password</Form.Label>\r\n\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\tplaceholder='Enter password'\r\n\t\t\t\t\t\tvalue={password}\r\n\t\t\t\t\t\tonChange={(e) => setPassword(e.target.value)}\r\n\t\t\t\t\t></Form.Control>\r\n\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t<Button type='submit' variant='primary' className='my-3'>\r\n\t\t\t\t\tSign In\r\n\t\t\t\t</Button>\r\n\t\t\t</Form>\r\n\r\n\t\t\t<Row className='py-3'>\r\n\t\t\t\t<Col>\r\n\t\t\t\t\tNew Customer?{' '}\r\n\t\t\t\t\t<Link to={redirect ? `/register?redirect=${redirect}` : '/register'}>\r\n\t\t\t\t\t\tRegister\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</Col>\r\n\t\t\t</Row>\r\n\t\t</FormContainer>\r\n\t);\r\n};\r\n\r\nexport default LoginScreen;\r\n","import { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { Form, Button, Row, Col } from 'react-bootstrap';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport Message from '../components/Message.js';\r\nimport Loader from '../components/Loader.js';\r\nimport FormContainer from '../components/FormContainer.js';\r\nimport { register } from '../actions/userActions.js';\r\n\r\nconst RegisterScreen = ({ location, history }) => {\r\n\tconst [name, setName] = useState('');\r\n\tconst [email, setEmail] = useState('');\r\n\tconst [password, setPassword] = useState('');\r\n\tconst [confirmPassword, setConfirmPassword] = useState('');\r\n\tconst [message, setMessage] = useState(null);\r\n\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst userRegister = useSelector((state) => state.userRegister);\r\n\tconst { loading, error, userInfo } = userRegister;\r\n\r\n\tconst redirect = location.search ? location.search.split('=')[1] : '/';\r\n\r\n\tuseEffect(() => {\r\n\t\tif (userInfo) {\r\n\t\t\thistory.push(redirect);\r\n\t\t}\r\n\t}, [history, userInfo, redirect]);\r\n\r\n\tconst submitHandler = (e) => {\r\n\t\te.preventDefault();\r\n        if (password !== confirmPassword) {\r\n            setMessage('Passwords do not match!')\r\n        } else {\r\n            dispatch(register(name, email, password))\r\n        }\r\n\t};\r\n\r\n\treturn (\r\n\t\t<FormContainer>\r\n\t\t\t<h1>Sign Up</h1>\r\n\t\t\t{message && <Message variant='danger'>{message}</Message>}\r\n\t\t\t{error && <Message variant='danger'>{error}</Message>}\r\n\t\t\t{loading && <Loader />}\r\n\t\t\t<Form onSubmit={submitHandler}>\r\n\t\t\t\t<Form.Group controlId='name'>\r\n\t\t\t\t\t<Form.Label>Name</Form.Label>\r\n\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\ttype='name'\r\n\t\t\t\t\t\tplaceholder='Enter name'\r\n\t\t\t\t\t\tvalue={name}\r\n\t\t\t\t\t\tonChange={(e) => setName(e.target.value)}\r\n\t\t\t\t\t></Form.Control>\r\n\t\t\t\t</Form.Group>\r\n\t\t\t\t<Form.Group controlId='email'>\r\n\t\t\t\t\t<Form.Label>Email Address</Form.Label>\r\n\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\ttype='email'\r\n\t\t\t\t\t\tplaceholder='Enter email'\r\n\t\t\t\t\t\tvalue={email}\r\n\t\t\t\t\t\tonChange={(e) => setEmail(e.target.value)}\r\n\t\t\t\t\t></Form.Control>\r\n\t\t\t\t</Form.Group>\r\n\t\t\t\t<Form.Group controlId='password'>\r\n\t\t\t\t\t<Form.Label>Password</Form.Label>\r\n\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\tplaceholder='Enter password'\r\n\t\t\t\t\t\tvalue={password}\r\n\t\t\t\t\t\tonChange={(e) => setPassword(e.target.value)}\r\n\t\t\t\t\t></Form.Control>\r\n\t\t\t\t</Form.Group>\r\n\t\t\t\t<Form.Group controlId='confirmPassword'>\r\n\t\t\t\t\t<Form.Label>Confirm Password</Form.Label>\r\n\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\tplaceholder='Confirm password'\r\n\t\t\t\t\t\tvalue={confirmPassword}\r\n\t\t\t\t\t\tonChange={(e) => setConfirmPassword(e.target.value)}\r\n\t\t\t\t\t></Form.Control>\r\n\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t<Button type='submit' variant='primary' className='my-3'>\r\n\t\t\t\t\tRegister\r\n\t\t\t\t</Button>\r\n\t\t\t</Form>\r\n\r\n\t\t\t<Row className='py-3'>\r\n\t\t\t\t<Col>\r\n\t\t\t\t\tHave an Account?{' '}\r\n\t\t\t\t\t<Link to={redirect ? `/login?redirect=${redirect}` : '/login'}>\r\n\t\t\t\t\t\tLogin\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</Col>\r\n\t\t\t</Row>\r\n\t\t</FormContainer>\r\n\t);\r\n};\r\n\r\nexport default RegisterScreen;\r\n","import { useState, useEffect } from 'react';\r\nimport { Form, Button, Row, Col, Table } from 'react-bootstrap';\r\nimport { LinkContainer } from 'react-router-bootstrap';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { FaTimes } from 'react-icons/fa';\r\nimport Message from '../components/Message.js';\r\nimport Loader from '../components/Loader.js';\r\nimport { getUserDetails, updateUserProfile } from '../actions/userActions.js';\r\nimport { listMyOrders } from '../actions/orderActions.js';\r\n\r\nconst ProfileScreen = ({ location, history }) => {\r\n\tconst [name, setName] = useState('');\r\n\tconst [email, setEmail] = useState('');\r\n\tconst [password, setPassword] = useState('');\r\n\tconst [confirmPassword, setConfirmPassword] = useState('');\r\n\tconst [message, setMessage] = useState(null);\r\n\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst userDetails = useSelector((state) => state.userDetails);\r\n\tconst { loading, error, user } = userDetails;\r\n\r\n\tconst userLogin = useSelector((state) => state.userLogin);\r\n\tconst { userInfo } = userLogin;\r\n\r\n\tconst userUpdateProfile = useSelector((state) => state.userUpdateProfile);\r\n\tconst { success } = userUpdateProfile;\r\n\r\n\tconst orderListMy = useSelector((state) => state.orderListMy);\r\n\tconst { loading: loadingOrders, error: errorOrders, orders } = orderListMy;\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!userInfo) {\r\n\t\t\thistory.push('/login');\r\n\t\t} else {\r\n\t\t\tif (!user.name) {\r\n\t\t\t\tdispatch(getUserDetails('profile'));\r\n\t\t\t\tdispatch(listMyOrders());\r\n\t\t\t} else {\r\n\t\t\t\tsetName(user.name);\r\n\t\t\t\tsetEmail(user.email);\r\n\t\t\t}\r\n\t\t}\r\n\t}, [dispatch, history, userInfo, user]);\r\n\r\n\tconst submitHandler = (e) => {\r\n\t\te.preventDefault();\r\n\t\tif (password !== confirmPassword) {\r\n\t\t\tsetMessage('Passwords do not match!');\r\n\t\t} else {\r\n\t\t\tdispatch(updateUserProfile({ id: user._id, name, email, password }));\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Row>\r\n\t\t\t<Col md={3}>\r\n\t\t\t\t<h2>User Profile</h2>\r\n\t\t\t\t{message && <Message variant='danger'>{message}</Message>}\r\n\t\t\t\t{error && <Message variant='danger'>{error}</Message>}\r\n\t\t\t\t{success && <Message variant='success'>Profile Updated!</Message>}\r\n\t\t\t\t{loading && <Loader />}\r\n\t\t\t\t<Form onSubmit={submitHandler}>\r\n\t\t\t\t\t<Form.Group controlId='name'>\r\n\t\t\t\t\t\t<Form.Label>Name</Form.Label>\r\n\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\ttype='name'\r\n\t\t\t\t\t\t\tplaceholder='Enter name'\r\n\t\t\t\t\t\t\tvalue={name}\r\n\t\t\t\t\t\t\tonChange={(e) => setName(e.target.value)}\r\n\t\t\t\t\t\t></Form.Control>\r\n\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t<Form.Group controlId='email'>\r\n\t\t\t\t\t\t<Form.Label>Email Address</Form.Label>\r\n\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\ttype='email'\r\n\t\t\t\t\t\t\tplaceholder='Enter email'\r\n\t\t\t\t\t\t\tvalue={email}\r\n\t\t\t\t\t\t\tonChange={(e) => setEmail(e.target.value)}\r\n\t\t\t\t\t\t></Form.Control>\r\n\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t<Form.Group controlId='password'>\r\n\t\t\t\t\t\t<Form.Label>Password</Form.Label>\r\n\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\t\tplaceholder='Enter password'\r\n\t\t\t\t\t\t\tvalue={password}\r\n\t\t\t\t\t\t\tonChange={(e) => setPassword(e.target.value)}\r\n\t\t\t\t\t\t></Form.Control>\r\n\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t<Form.Group controlId='confirmPassword'>\r\n\t\t\t\t\t\t<Form.Label>Confirm Password</Form.Label>\r\n\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\t\tplaceholder='Confirm password'\r\n\t\t\t\t\t\t\tvalue={confirmPassword}\r\n\t\t\t\t\t\t\tonChange={(e) => setConfirmPassword(e.target.value)}\r\n\t\t\t\t\t\t></Form.Control>\r\n\t\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t\t<Button type='submit' variant='primary' className='my-3'>\r\n\t\t\t\t\t\tUpdate\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Form>\r\n\t\t\t</Col>\r\n\t\t\t<Col md={9}>\r\n\t\t\t\t<h2>My Orders</h2>\r\n\t\t\t\t{loadingOrders ? (\r\n\t\t\t\t\t<Loader />\r\n\t\t\t\t) : errorOrders ? (\r\n\t\t\t\t\t<Message variant='danger'>{errorOrders}</Message>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Table striped bordered hover responsive className='table-sm'>\r\n\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<th>ID</th>\r\n\t\t\t\t\t\t\t\t<th>DATE</th>\r\n\t\t\t\t\t\t\t\t<th>TOTAL</th>\r\n\t\t\t\t\t\t\t\t<th>PAID</th>\r\n\t\t\t\t\t\t\t\t<th>DELIVERED</th>\r\n\t\t\t\t\t\t\t\t<th></th>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t{orders.map((order) => (\r\n\t\t\t\t\t\t\t\t<tr key={order._id}>\r\n\t\t\t\t\t\t\t\t\t<td>{order._id}</td>\r\n\t\t\t\t\t\t\t\t\t<td>{order.createdAt.substring(0, 10)}</td>\r\n\t\t\t\t\t\t\t\t\t<td>{order.totalPrice}</td>\r\n\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t{order.isPaid ? (\r\n\t\t\t\t\t\t\t\t\t\t\torder.paidAt.substring(0, 10)\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t<FaTimes style={{ color: 'red' }} />\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t{order.isDelivered ? (\r\n\t\t\t\t\t\t\t\t\t\t\torder.deliveredAt.substring(0, 10)\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t<FaTimes style={{ color: 'red' }} />\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t<LinkContainer to={`/order/${order._id}`}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Button variant='light' className='btn-sm'>Details</Button>\r\n\t\t\t\t\t\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t</Table>\r\n\t\t\t\t)}\r\n\t\t\t</Col>\r\n\t\t</Row>\r\n\t);\r\n};\r\n\r\nexport default ProfileScreen;\r\n","import axios from 'axios';\r\nimport {\r\n\tORDER_CREATE_REQUEST,\r\n\tORDER_CREATE_SUCCESS,\r\n\tORDER_CREATE_FAIL,\r\n\tORDER_DETAILS_REQUEST,\r\n\tORDER_DETAILS_SUCCESS,\r\n\tORDER_DETAILS_FAIL,\r\n\tORDER_PAY_REQUEST,\r\n\tORDER_PAY_SUCCESS,\r\n\tORDER_PAY_FAIL,\r\n\tORDER_LIST_MY_REQUEST,\r\n\tORDER_LIST_MY_SUCCESS,\r\n\tORDER_LIST_MY_FAIL,\r\n\tORDER_LIST_FAIL,\r\n\tORDER_LIST_REQUEST,\r\n\tORDER_LIST_SUCCESS,\r\n\tORDER_DELIVER_FAIL,\r\n\tORDER_DELIVER_REQUEST,\r\n\tORDER_DELIVER_SUCCESS,\r\n} from '../constants/orderConstants.js';\r\n\r\nexport const createOrder = (order) => async (dispatch, getState) => {\r\n\ttry {\r\n\t\tdispatch({\r\n\t\t\ttype: ORDER_CREATE_REQUEST,\r\n\t\t});\r\n\r\n\t\tconst {\r\n\t\t\tuserLogin: { userInfo },\r\n\t\t} = getState();\r\n\r\n\t\tconst config = {\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\tAuthorization: `Bearer ${userInfo.token}`,\r\n\t\t\t},\r\n\t\t};\r\n\r\n\t\tconst { data } = await axios.post('/api/orders', order, config);\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: ORDER_CREATE_SUCCESS,\r\n\t\t\tpayload: data,\r\n\t\t});\r\n\t} catch (error) {\r\n\t\tdispatch({\r\n\t\t\ttype: ORDER_CREATE_FAIL,\r\n\t\t\tpayload:\r\n\t\t\t\terror.response && error.response.data.message\r\n\t\t\t\t\t? error.response.data.message\r\n\t\t\t\t\t: error.message,\r\n\t\t});\r\n\t}\r\n};\r\n\r\nexport const getOrderDetails = (id) => async (dispatch, getState) => {\r\n\ttry {\r\n\t\tdispatch({\r\n\t\t\ttype: ORDER_DETAILS_REQUEST,\r\n\t\t});\r\n\r\n\t\tconst {\r\n\t\t\tuserLogin: { userInfo },\r\n\t\t} = getState();\r\n\r\n\t\tconst config = {\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: `Bearer ${userInfo.token}`,\r\n\t\t\t},\r\n\t\t};\r\n\r\n\t\tconst { data } = await axios.get(`/api/orders/${id}`, config);\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: ORDER_DETAILS_SUCCESS,\r\n\t\t\tpayload: data,\r\n\t\t});\r\n\t} catch (error) {\r\n\t\tdispatch({\r\n\t\t\ttype: ORDER_DETAILS_FAIL,\r\n\t\t\tpayload:\r\n\t\t\t\terror.response && error.response.data.message\r\n\t\t\t\t\t? error.response.data.message\r\n\t\t\t\t\t: error.response,\r\n\t\t});\r\n\t}\r\n};\r\n\r\nexport const payOrder =\r\n\t(orderId, paymentResult) => async (dispatch, getState) => {\r\n\t\ttry {\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: ORDER_PAY_REQUEST,\r\n\t\t\t});\r\n\r\n\t\t\tconst {\r\n\t\t\t\tuserLogin: { userInfo },\r\n\t\t\t} = getState();\r\n\r\n\t\t\tconst config = {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t\tAuthorization: `Bearer ${userInfo.token}`,\r\n\t\t\t\t},\r\n\t\t\t};\r\n\r\n\t\t\tconst { data } = await axios.put(\r\n\t\t\t\t`/api/orders/${orderId}/pay`,\r\n\t\t\t\tpaymentResult,\r\n\t\t\t\tconfig\r\n\t\t\t);\r\n\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: ORDER_PAY_SUCCESS,\r\n\t\t\t\tpayload: data,\r\n\t\t\t});\r\n\t\t} catch (error) {\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: ORDER_PAY_FAIL,\r\n\t\t\t\tpayload:\r\n\t\t\t\t\terror.response && error.response.data.message\r\n\t\t\t\t\t\t? error.response.data.message\r\n\t\t\t\t\t\t: error.respons,\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\nexport const listMyOrders = () => async (dispatch, getState) => {\r\n\ttry {\r\n\t\tdispatch({\r\n\t\t\ttype: ORDER_LIST_MY_REQUEST,\r\n\t\t});\r\n\r\n\t\tconst {\r\n\t\t\tuserLogin: { userInfo },\r\n\t\t} = getState();\r\n\r\n\t\tconst config = {\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: `Bearer ${userInfo.token}`,\r\n\t\t\t},\r\n\t\t};\r\n\r\n\t\tconst { data } = await axios.get('/api/orders/myorders', config);\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: ORDER_LIST_MY_SUCCESS,\r\n\t\t\tpayload: data,\r\n\t\t});\r\n\t} catch (error) {\r\n\t\tdispatch({\r\n\t\t\ttype: ORDER_LIST_MY_FAIL,\r\n\t\t\tpayload:\r\n\t\t\t\terror.response && error.response.data.message\r\n\t\t\t\t\t? error.response.data.message\r\n\t\t\t\t\t: error.message,\r\n\t\t});\r\n\t}\r\n};\r\n\r\nexport const listOrders = () => async (dispatch, getState) => {\r\n\ttry {\r\n\t\tdispatch({\r\n\t\t\ttype: ORDER_LIST_REQUEST,\r\n\t\t});\r\n\r\n\t\tconst {\r\n\t\t\tuserLogin: { userInfo },\r\n\t\t} = getState();\r\n\r\n\t\tconst config = {\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: `Bearer ${userInfo.token}`,\r\n\t\t\t},\r\n\t\t};\r\n\r\n\t\tconst { data } = await axios.get('/api/orders', config);\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: ORDER_LIST_SUCCESS,\r\n\t\t\tpayload: data,\r\n\t\t});\r\n\t} catch (error) {\r\n\t\tdispatch({\r\n\t\t\ttype: ORDER_LIST_FAIL,\r\n\t\t\tpayload:\r\n\t\t\t\terror.response && error.response.data.message\r\n\t\t\t\t\t? error.response.data.message\r\n\t\t\t\t\t: error.response,\r\n\t\t});\r\n\t}\r\n};\r\n\r\nexport const deliverOrder = (order) => async (dispatch, getState) => {\r\n\ttry {\r\n\t\tdispatch({\r\n\t\t\ttype: ORDER_DELIVER_REQUEST,\r\n\t\t});\r\n\r\n\t\tconst {\r\n\t\t\tuserLogin: { userInfo },\r\n\t\t} = getState();\r\n\r\n\t\tconst config = {\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: `Bearer ${userInfo.token}`,\r\n\t\t\t},\r\n\t\t};\r\n\r\n\t\tconst { data } = await axios.put(\r\n\t\t\t`/api/orders/${order._id}/deliver`,\r\n\t\t\t{},\r\n\t\t\tconfig\r\n\t\t);\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: ORDER_DELIVER_SUCCESS,\r\n\t\t\tpayload: data,\r\n\t\t});\r\n\t} catch (error) {\r\n\t\tdispatch({\r\n\t\t\ttype: ORDER_DELIVER_FAIL,\r\n\t\t\tpayload:\r\n\t\t\t\terror.response && error.response.data.message\r\n\t\t\t\t\t? error.response.data.message\r\n\t\t\t\t\t: error.response,\r\n\t\t});\r\n\t}\r\n};\r\n","import { Nav } from 'react-bootstrap';\r\nimport { LinkContainer } from 'react-router-bootstrap';\r\n\r\nconst CheckoutSteps = ({ step1, step2, step3, step4 }) => {\r\n\treturn (\r\n\t\t<Nav className='justify-content-center mb-4'>\r\n\t\t\t<Nav.Item>\r\n\t\t\t\t{step1 ? (\r\n\t\t\t\t\t<LinkContainer to='/login'>\r\n\t\t\t\t\t\t<Nav.Link>Sign In</Nav.Link>\r\n\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Nav.Link disabled>Sign In</Nav.Link>\r\n\t\t\t\t)}\r\n\t\t\t</Nav.Item>\r\n\t\t\t<Nav.Item>\r\n\t\t\t\t{step2 ? (\r\n\t\t\t\t\t<LinkContainer to='/shipping'>\r\n\t\t\t\t\t\t<Nav.Link>Shipping</Nav.Link>\r\n\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Nav.Link disabled>Shipping</Nav.Link>\r\n\t\t\t\t)}\r\n\t\t\t</Nav.Item>\r\n\t\t\t<Nav.Item>\r\n\t\t\t\t{step3 ? (\r\n\t\t\t\t\t<LinkContainer to='/payment'>\r\n\t\t\t\t\t\t<Nav.Link>Payment</Nav.Link>\r\n\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Nav.Link disabled>Payment</Nav.Link>\r\n\t\t\t\t)}\r\n\t\t\t</Nav.Item>\r\n\t\t\t<Nav.Item>\r\n\t\t\t\t{step4 ? (\r\n\t\t\t\t\t<LinkContainer to='/placeorder'>\r\n\t\t\t\t\t\t<Nav.Link>Place Order</Nav.Link>\r\n\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Nav.Link disabled>Place Order</Nav.Link>\r\n\t\t\t\t)}\r\n\t\t\t</Nav.Item>\r\n\t\t</Nav>\r\n\t);\r\n};\r\n\r\nexport default CheckoutSteps;\r\n","import { useState } from 'react';\r\nimport { Form, Button } from 'react-bootstrap';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport FormContainer from '../components/FormContainer.js';\r\nimport CheckoutSteps from '../components/CheckoutSteps.js';\r\nimport { saveShippingAddress } from '../actions/cartActions.js';\r\n\r\nconst ShippingScreen = ({ history }) => {\r\n\tconst cart = useSelector((state) => state.cart);\r\n\tconst { shippingAddress } = cart;\r\n\r\n\tconst [address, setAddress] = useState(shippingAddress.address);\r\n\tconst [city, setCity] = useState(shippingAddress.city);\r\n\tconst [postalCode, setPostalCode] = useState(shippingAddress.postalCode);\r\n\tconst [country, setCountry] = useState(shippingAddress.country);\r\n\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst submitHandler = (e) => {\r\n\t\te.preventDefault();\r\n\t\tdispatch(saveShippingAddress({ address, city, postalCode, country }));\r\n\t\thistory.push('/payment');\r\n\t};\r\n\r\n\treturn (\r\n\t\t<FormContainer>\r\n\t\t\t<CheckoutSteps step1 step2 />\r\n\t\t\t<h1>Shipping</h1>\r\n\t\t\t<Form onSubmit={submitHandler}>\r\n\t\t\t\t<Form.Group controlId='address'>\r\n\t\t\t\t\t<Form.Label>Address</Form.Label>\r\n\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\tplaceholder='Enter address'\r\n\t\t\t\t\t\tvalue={address}\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tonChange={(e) => setAddress(e.target.value)}\r\n\t\t\t\t\t></Form.Control>\r\n\t\t\t\t</Form.Group>\r\n\t\t\t\t<Form.Group controlId='city'>\r\n\t\t\t\t\t<Form.Label>City</Form.Label>\r\n\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\tplaceholder='Enter city'\r\n\t\t\t\t\t\tvalue={city}\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tonChange={(e) => setCity(e.target.value)}\r\n\t\t\t\t\t></Form.Control>\r\n\t\t\t\t</Form.Group>\r\n\t\t\t\t<Form.Group controlId='postalCode'>\r\n\t\t\t\t\t<Form.Label>PostalCode</Form.Label>\r\n\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\tplaceholder='Enter postal code'\r\n\t\t\t\t\t\tvalue={postalCode}\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tonChange={(e) => setPostalCode(e.target.value)}\r\n\t\t\t\t\t></Form.Control>\r\n\t\t\t\t</Form.Group>\r\n\t\t\t\t<Form.Group controlId='country'>\r\n\t\t\t\t\t<Form.Label>Country</Form.Label>\r\n\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\tplaceholder='Enter country'\r\n\t\t\t\t\t\tvalue={country}\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tonChange={(e) => setCountry(e.target.value)}\r\n\t\t\t\t\t></Form.Control>\r\n\t\t\t\t</Form.Group>\r\n\t\t\t\t<Button type='submit' variant='primary' className='my-3'>\r\n\t\t\t\t\tContinue\r\n\t\t\t\t</Button>\r\n\t\t\t</Form>\r\n\t\t</FormContainer>\r\n\t);\r\n};\r\n\r\nexport default ShippingScreen;\r\n","import { useState } from 'react';\r\nimport { Form, Button, Col } from 'react-bootstrap';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport FormContainer from '../components/FormContainer.js';\r\nimport CheckoutSteps from '../components/CheckoutSteps.js';\r\nimport { savePaymentMethod } from '../actions/cartActions.js';\r\n\r\nconst PaymentScreen = ({ history }) => {\r\n\tconst cart = useSelector((state) => state.cart);\r\n\tconst { shippingAddress } = cart;\r\n\r\n\tif (!shippingAddress) {\r\n\t\thistory.push('/shipping');\r\n\t}\r\n\r\n\tconst [paymentMethod, setPaymentMethod] = useState('Paypal');\r\n\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst submitHandler = (e) => {\r\n\t\te.preventDefault();\r\n\t\tdispatch(savePaymentMethod(paymentMethod));\r\n\t\thistory.push('/placeorder');\r\n\t};\r\n\r\n\treturn (\r\n\t\t<FormContainer>\r\n\t\t\t<CheckoutSteps step1 step2 step3 />\r\n\t\t\t<h1>Payment Method</h1>\r\n\t\t\t<Form onSubmit={submitHandler}>\r\n\t\t\t\t<Form.Group>\r\n\t\t\t\t\t<Form.Label as='legend'>Select Method</Form.Label>\r\n\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t<Form.Check\r\n\t\t\t\t\t\t\ttype='radio'\r\n\t\t\t\t\t\t\tlabel='PayPal or Credit Card'\r\n\t\t\t\t\t\t\tid='PayPal'\r\n\t\t\t\t\t\t\tname='paymentMethod'\r\n\t\t\t\t\t\t\tvalue='Paypal'\r\n\t\t\t\t\t\t\tchecked\r\n\t\t\t\t\t\t\tonChange={(e) => setPaymentMethod(e.target.value)}\r\n\t\t\t\t\t\t></Form.Check>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Form.Group>\r\n\t\t\t\t<Button type='submit' variant='primary' className='my-3'>\r\n\t\t\t\t\tContinue\r\n\t\t\t\t</Button>\r\n\t\t\t</Form>\r\n\t\t</FormContainer>\r\n\t);\r\n};\r\n\r\nexport default PaymentScreen;\r\n","import { useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { Button, Row, Col, ListGroup, Image, Card } from 'react-bootstrap';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport Message from '../components/Message.js';\r\nimport CheckoutSteps from '../components/CheckoutSteps.js';\r\nimport { createOrder } from '../actions/orderActions.js';\r\n\r\nconst PlaceOrderScreen = ({ history }) => {\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst cart = useSelector((state) => state.cart);\r\n\r\n\t// Calculate prices\r\n\tconst addDecimals = (num) => {\r\n\t\treturn (Math.round(num * 100) / 100).toFixed(2);\r\n\t};\r\n\r\n\tcart.itemsPrice = addDecimals(\r\n\t\tcart.cartItems.reduce((acc, item) => acc + item.price * item.qty, 0)\r\n\t);\r\n\r\n\tcart.shippingPrice = addDecimals(cart.itemsPrice > 100 ? 0 : 10);\r\n\r\n\tcart.taxPrice = addDecimals(Number((0.15 * cart.itemsPrice).toFixed(2)));\r\n\r\n\tcart.totalPrice = (\r\n\t\tNumber(cart.itemsPrice) +\r\n\t\tNumber(cart.shippingPrice) +\r\n\t\tNumber(cart.taxPrice)\r\n\t).toFixed(2);\r\n\r\n\tconst orderCreate = useSelector((state) => state.orderCreate);\r\n\tconst { order, success, error } = orderCreate;\r\n\r\n\tuseEffect(() => {\r\n\t\tif (success) {\r\n\t\t\thistory.push(`orders/${order._id}`);\r\n\t\t}\r\n\t\t// eslint-disable-next-line\r\n\t}, [history, success]);\r\n\r\n\tconst placeOrderHandler = () => {\r\n\t\tdispatch(\r\n\t\t\tcreateOrder({\r\n\t\t\t\torderItems: cart.cartItems,\r\n\t\t\t\tshippingAddress: cart.shippingAddress,\r\n\t\t\t\tpaymentMethod: cart.paymentMethod,\r\n\t\t\t\titemsPrice: cart.itemsPrice,\r\n\t\t\t\tshippingPrice: cart.shippingPrice,\r\n\t\t\t\ttaxPrice: cart.taxPrice,\r\n\t\t\t\ttotalPrice: cart.totalPrice,\r\n\t\t\t})\r\n\t\t);\r\n\t};\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<CheckoutSteps step1 step2 step3 step4 />\r\n\t\t\t<Row>\r\n\t\t\t\t<Col md={8}>\r\n\t\t\t\t\t<ListGroup variant='flush'>\r\n\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t<h2>Shipping</h2>\r\n\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t<strong>Address: </strong>\r\n\t\t\t\t\t\t\t\t{cart.shippingAddress.address}, {cart.shippingAddress.city},{' '}\r\n\t\t\t\t\t\t\t\t{cart.shippingAddress.postalCode},{' '}\r\n\t\t\t\t\t\t\t\t{cart.shippingAddress.country}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t<h2>Payment Method</h2>\r\n\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t<strong>Method: </strong>\r\n\t\t\t\t\t\t\t\t{cart.paymentMethod}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t<h2>Order Items</h2>\r\n\t\t\t\t\t\t\t{cart.cartItems.length === 0 ? (\r\n\t\t\t\t\t\t\t\t<Message>Your cart is empty</Message>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<ListGroup variant='flush'>\r\n\t\t\t\t\t\t\t\t\t{cart.cartItems.map((item, index) => (\r\n\t\t\t\t\t\t\t\t\t\t<ListGroup.Item key={index}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Col md={1}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Image\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={item.image}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\talt={item.name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfluid\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trounded\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Link to={`/product/${item.product}`}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{item.name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Col md={4}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{item.qty} x {item.price} = ${item.qty * item.price}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t</ListGroup>\r\n\t\t\t\t</Col>\r\n\t\t\t\t<Col md={4}>\r\n\t\t\t\t\t<Card>\r\n\t\t\t\t\t\t<ListGroup variant='flush'>\r\n\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t<h2>Order Summary</h2>\r\n\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>Items</Col>\r\n\t\t\t\t\t\t\t\t\t<Col>${cart.itemsPrice}</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>Shipping</Col>\r\n\t\t\t\t\t\t\t\t\t<Col>${cart.shippingPrice}</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>Tax</Col>\r\n\t\t\t\t\t\t\t\t\t<Col>${cart.taxPrice}</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>Total</Col>\r\n\t\t\t\t\t\t\t\t\t<Col>${cart.totalPrice}</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t{error && <Message variant='danger'>{error}</Message>}\r\n\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\ttype='button'\r\n\t\t\t\t\t\t\t\t\tdisabled={cart.cartItems === 0}\r\n\t\t\t\t\t\t\t\t\tonClick={placeOrderHandler}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tPlace Order\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t</Card>\r\n\t\t\t\t</Col>\r\n\t\t\t</Row>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default PlaceOrderScreen;\r\n","import { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { PayPalButton } from 'react-paypal-button-v2';\r\nimport { Link } from 'react-router-dom';\r\nimport { Row, Col, ListGroup, Image, Card, Button } from 'react-bootstrap';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport Message from '../components/Message.js';\r\nimport Loader from '../components/Loader.js';\r\nimport {\r\n\tgetOrderDetails,\r\n\tpayOrder,\r\n\tdeliverOrder,\r\n} from '../actions/orderActions.js';\r\nimport {\r\n\tORDER_PAY_RESET,\r\n\tORDER_DELIVER_RESET,\r\n} from '../constants/orderConstants.js';\r\n\r\nconst OrderScreen = ({ match, history }) => {\r\n\tconst orderId = match.params.id;\r\n\r\n\tconst [sdkReady, setSdkReady] = useState(false);\r\n\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst orderDetails = useSelector((state) => state.orderDetails);\r\n\tconst { order, loading, error } = orderDetails;\r\n\r\n\tconst orderPay = useSelector((state) => state.orderPay);\r\n\t// since the loading state exists for two different pieces of state on this screen(orderDetails and orderPay), loading and success are renamed here to loadingPay and successPay after being retrieved from the orderPay state.\r\n\tconst { loading: loadingPay, success: successPay } = orderPay;\r\n\r\n\tconst orderDeliver = useSelector((state) => state.orderDeliver);\r\n\tconst { loading: loadingDeliver, success: successDeliver } = orderDeliver;\r\n\r\n\tconst userLogin = useSelector((state) => state.userLogin);\r\n\tconst { userInfo } = userLogin;\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!userInfo) {\r\n\t\t\thistory.push('/login');\r\n\t\t}\r\n\t\tconst addPayPalScript = async () => {\r\n\t\t\tconst { data: clientId } = await axios.get('/api/config/paypal');\r\n\t\t\tconst script = document.createElement('script');\r\n\t\t\tscript.type = 'text/javascript';\r\n\t\t\tscript.src = `https://www.paypal.com/sdk/js?client-id=${clientId}`;\r\n\t\t\tscript.async = true;\r\n\t\t\tscript.onload = () => {\r\n\t\t\t\tsetSdkReady(true);\r\n\t\t\t};\r\n\t\t\tdocument.body.appendChild(script);\r\n\t\t};\r\n\r\n\t\tif (!order || order._id !== orderId || successPay || successDeliver) {\r\n\t\t\t// You have to dispatch the reset to ensure successPay above is set to false to prevent a loop in this if statement.\r\n\t\t\tdispatch({ type: ORDER_PAY_RESET });\r\n\t\t\tdispatch({ type: ORDER_DELIVER_RESET });\r\n\t\t\tdispatch(getOrderDetails(orderId));\r\n\t\t} else if (!order.isPaid) {\r\n\t\t\tif (!window.paypal) {\r\n\t\t\t\taddPayPalScript();\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tsetSdkReady(true);\r\n\t\t}\r\n\t}, [order, orderId, dispatch, successPay, successDeliver, history, userInfo]);\r\n\r\n\tconst successPaymentHandler = (paymentResult) => {\r\n\t\tconsole.log(paymentResult);\r\n\t\tdispatch(payOrder(orderId, paymentResult));\r\n\t};\r\n\r\n\tconst deliverHandler = () => {\r\n\t\tdispatch(deliverOrder(order));\r\n\t};\r\n\r\n\treturn loading ? (\r\n\t\t<Loader />\r\n\t) : error ? (\r\n\t\t<Message variant='danger'>{error}</Message>\r\n\t) : (\r\n\t\t<>\r\n\t\t\t<h1>Order {order._id}</h1>\r\n\t\t\t<Row>\r\n\t\t\t\t<Col md={8}>\r\n\t\t\t\t\t<ListGroup variant='flush'>\r\n\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t<h2>Shipping</h2>\r\n\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t<strong>Name: </strong> {order.user.name}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t<strong>Email: </strong>\r\n\t\t\t\t\t\t\t\t<a href={`mailto:${order.user.email}`}>{order.user.email}</a>\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t<strong>Address: </strong>\r\n\t\t\t\t\t\t\t\t{order.shippingAddress.address}, {order.shippingAddress.city},{' '}\r\n\t\t\t\t\t\t\t\t{order.shippingAddress.postalCode},{' '}\r\n\t\t\t\t\t\t\t\t{order.shippingAddress.country}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t{order.isDelivered ? (\r\n\t\t\t\t\t\t\t\t<Message variant='success'>\r\n\t\t\t\t\t\t\t\t\tDelivered on {order.deliveredAt}\r\n\t\t\t\t\t\t\t\t</Message>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<Message variant='danger'>Not Delivered</Message>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t<h2>Payment Method</h2>\r\n\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t<strong>Method: </strong>\r\n\t\t\t\t\t\t\t\t{order.paymentMethod}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t{order.isPaid ? (\r\n\t\t\t\t\t\t\t\t<Message variant='success'>Paid on {order.paidAt}</Message>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<Message variant='danger'>Not paid</Message>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t<h2>Order Items</h2>\r\n\t\t\t\t\t\t\t{order.orderItems.length === 0 ? (\r\n\t\t\t\t\t\t\t\t<Message>Order is empty</Message>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<ListGroup variant='flush'>\r\n\t\t\t\t\t\t\t\t\t{order.orderItems.map((item, index) => (\r\n\t\t\t\t\t\t\t\t\t\t<ListGroup.Item key={index}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Col md={1}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Image\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={item.image}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\talt={item.name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfluid\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trounded\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Link to={`/product/${item.product}`}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{item.name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Col md={4}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{item.qty} x {item.price} = ${item.qty * item.price}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t</ListGroup>\r\n\t\t\t\t</Col>\r\n\t\t\t\t<Col md={4}>\r\n\t\t\t\t\t<Card>\r\n\t\t\t\t\t\t<ListGroup variant='flush'>\r\n\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t<h2>Order Summary</h2>\r\n\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>Items</Col>\r\n\t\t\t\t\t\t\t\t\t<Col>${order.itemsPrice.toFixed(2)}</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>Shipping</Col>\r\n\t\t\t\t\t\t\t\t\t<Col>${order.shippingPrice.toFixed(2)}</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>Tax</Col>\r\n\t\t\t\t\t\t\t\t\t<Col>${order.taxPrice.toFixed(2)}</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>Total</Col>\r\n\t\t\t\t\t\t\t\t\t<Col>${order.totalPrice.toFixed(2)}</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t{!order.isPaid && (\r\n\t\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t{loadingPay && <Loader />}\r\n\t\t\t\t\t\t\t\t\t{!sdkReady ? (\r\n\t\t\t\t\t\t\t\t\t\t<Loader />\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<PayPalButton\r\n\t\t\t\t\t\t\t\t\t\t\tamount={order.totalPrice}\r\n\t\t\t\t\t\t\t\t\t\t\tonSuccess={successPaymentHandler}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t{loadingDeliver && <Loader />}\r\n\t\t\t\t\t\t\t{userInfo &&\r\n\t\t\t\t\t\t\t\tuserInfo.isAdmin &&\r\n\t\t\t\t\t\t\t\torder.isPaid &&\r\n\t\t\t\t\t\t\t\t!order.isDelivered && (\r\n\t\t\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\ttype='button'\r\n\t\t\t\t\t\t\t\t\t\t\tclassName='btn btn-block'\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={deliverHandler}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\tMark as Delivered\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t</Card>\r\n\t\t\t\t</Col>\r\n\t\t\t</Row>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default OrderScreen;\r\n","import { useEffect } from 'react';\r\nimport { LinkContainer } from 'react-router-bootstrap';\r\nimport { Table, Button } from 'react-bootstrap';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { FaTimes } from 'react-icons/fa';\r\nimport Message from '../components/Message.js';\r\nimport Loader from '../components/Loader.js';\r\nimport { listOrders } from '../actions/orderActions.js';\r\nconst OrderListScreen = ({ history }) => {\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst orderList = useSelector((state) => state.orderList);\r\n\tconst { loading, error, orders } = orderList;\r\n\r\n\tconst userLogin = useSelector((state) => state.userLogin);\r\n\tconst { userInfo } = userLogin;\r\n\r\n\tuseEffect(() => {\r\n\t\tif (userInfo && userInfo.isAdmin) {\r\n\t\t\tdispatch(listOrders());\r\n\t\t} else {\r\n\t\t\thistory.push('/login');\r\n\t\t}\r\n\t}, [dispatch, history, userInfo]);\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<h1>Orders</h1>\r\n\t\t\t{loading ? (\r\n\t\t\t\t<Loader />\r\n\t\t\t) : error ? (\r\n\t\t\t\t<Message variant='danger'>{error}</Message>\r\n\t\t\t) : (\r\n\t\t\t\t<Table striped bordered hover responsive className='table-sm'>\r\n\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t<th>ORDER ID</th>\r\n\t\t\t\t\t\t<th>USER</th>\r\n\t\t\t\t\t\t<th>ORDER DATE</th>\r\n\t\t\t\t\t\t<th>TOTAL</th>\r\n\t\t\t\t\t\t<th>PAID</th>\r\n\t\t\t\t\t\t<th>DELIVERED</th>\r\n\t\t\t\t\t</thead>\r\n\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t{orders.map((order) => (\r\n\t\t\t\t\t\t\t<tr key={order._id}>\r\n\t\t\t\t\t\t\t\t<td>{order._id}</td>\r\n\t\t\t\t\t\t\t\t<td>{order.user && order.user.name}</td>\r\n\t\t\t\t\t\t\t\t<td>{order.createdAt.substring(0, 10)}</td>\r\n\t\t\t\t\t\t\t\t<td>${order.totalPrice}</td>\r\n\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t{order.isPaid ? (\r\n\t\t\t\t\t\t\t\t\t\torder.paidAt.substring(0, 10)\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<FaTimes style={{ color: 'red' }} />\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t{order.isDelivered ? (\r\n\t\t\t\t\t\t\t\t\t\torder.deliveredAt.substring(0, 10)\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<FaTimes style={{ color: 'red' }} />\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t<LinkContainer to={`/orders/${order._id}`}>\r\n\t\t\t\t\t\t\t\t\t\t<Button variant='light' className='btn-sm'>\r\n\t\t\t\t\t\t\t\t\t\t\tDetails\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</tbody>\r\n\t\t\t\t</Table>\r\n\t\t\t)}\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default OrderListScreen;\r\n","import { useEffect } from 'react';\r\nimport { LinkContainer } from 'react-router-bootstrap';\r\nimport { Table, Button } from 'react-bootstrap';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { FaCheck, FaEdit, FaTimes, FaTrash } from 'react-icons/fa';\r\nimport Message from '../components/Message.js';\r\nimport Loader from '../components/Loader.js';\r\nimport { listUsers, deleteUser } from '../actions/userActions.js';\r\n\r\nconst UserListScreen = ({ history }) => {\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst userList = useSelector((state) => state.userList);\r\n\tconst { loading, error, users } = userList;\r\n\r\n\tconst userLogin = useSelector((state) => state.userLogin);\r\n\tconst { userInfo } = userLogin;\r\n\r\n\tconst userDelete = useSelector((state) => state.userDelete);\r\n\tconst { success: successDelete } = userDelete;\r\n\r\n\tuseEffect(() => {\r\n\t\tif (userInfo && userInfo.isAdmin) {\r\n\t\t\tdispatch(listUsers());\r\n\t\t} else {\r\n\t\t\thistory.push('/login');\r\n\t\t}\r\n\t\t// successDelete is added as a dependency to the useEffect to ensure listUsers is run again after a deletion.\r\n\t}, [dispatch, history, successDelete, userInfo]);\r\n\r\n\tconst deleteHandler = (id) => {\r\n\t\tif (window.confirm('Are you sure?')) {\r\n\t\t\tdispatch(deleteUser(id));\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<h1>Users</h1>\r\n\t\t\t{loading ? (\r\n\t\t\t\t<Loader />\r\n\t\t\t) : error ? (\r\n\t\t\t\t<Message variant='danger'>{error}</Message>\r\n\t\t\t) : (\r\n\t\t\t\t<Table striped bordered hover responsive className='table-sm'>\r\n\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<th>ID</th>\r\n\t\t\t\t\t\t\t<th>NAME</th>\r\n\t\t\t\t\t\t\t<th>EMAIL</th>\r\n\t\t\t\t\t\t\t<th>ADMIN</th>\r\n\t\t\t\t\t\t\t<th></th>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t</thead>\r\n\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t{users.map((user) => (\r\n\t\t\t\t\t\t\t<tr key={user._id}>\r\n\t\t\t\t\t\t\t\t<td>{user._id}</td>\r\n\t\t\t\t\t\t\t\t<td>{user.name}</td>\r\n\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t<a href={`mailto:${user.email}`}>{user.email}</a>\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t{user.isAdmin ? (\r\n\t\t\t\t\t\t\t\t\t\t<FaCheck style={{ color: 'green' }} />\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<FaTimes style={{ color: 'red' }} />\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t<LinkContainer to={`/admin/user/${user._id}/edit`}>\r\n\t\t\t\t\t\t\t\t\t\t<Button variant='light' className='btn-sm'>\r\n\t\t\t\t\t\t\t\t\t\t\t<FaEdit />\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\tvariant='danger'\r\n\t\t\t\t\t\t\t\t\t\tclassName='btn-sm'\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => deleteHandler(user._id)}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<FaTrash />\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</tbody>\r\n\t\t\t\t</Table>\r\n\t\t\t)}\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default UserListScreen;\r\n","import { useState, useEffect } from 'react';\r\nimport { Form, Button } from 'react-bootstrap';\r\nimport { Link } from 'react-router-dom';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport Message from '../components/Message.js';\r\nimport Loader from '../components/Loader.js';\r\nimport FormContainer from '../components/FormContainer.js';\r\nimport { getUserDetails, updateUser } from '../actions/userActions.js';\r\nimport { USER_UPDATE_RESET } from '../constants/userConstants.js';\r\n\r\nconst UserEditScreen = ({ match, history }) => {\r\n\tconst userId = match.params.id;\r\n\r\n\tconst [name, setName] = useState('');\r\n\tconst [email, setEmail] = useState('');\r\n\tconst [isAdmin, setIsAdmin] = useState(false);\r\n\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst userDetails = useSelector((state) => state.userDetails);\r\n\tconst { loading, error, user } = userDetails;\r\n\r\n\tconst userUpdate = useSelector((state) => state.userUpdate);\r\n\tconst {\r\n\t\tloading: loadingUpdate,\r\n\t\terror: errorUpdate,\r\n\t\tsuccess: successUpdate,\r\n\t} = userUpdate;\r\n\r\n\tuseEffect(() => {\r\n\t\tif (successUpdate) {\r\n\t\t\tdispatch({ type: USER_UPDATE_RESET });\r\n\t\t\thistory.push('/admin/userlist');\r\n\t\t} else {\r\n\t\t\tif (!user.name || user._id !== userId) {\r\n\t\t\t\tdispatch(getUserDetails(userId));\r\n\t\t\t} else {\r\n\t\t\t\tsetName(user.name);\r\n\t\t\t\tsetEmail(user.email);\r\n\t\t\t\tsetIsAdmin(user.isAdmin);\r\n\t\t\t}\r\n\t\t}\r\n\t}, [dispatch, userId, user, history, successUpdate]);\r\n\r\n\tconst submitHandler = (e) => {\r\n\t\te.preventDefault();\r\n\t\tdispatch(updateUser({ _id: userId, name, email, isAdmin }));\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Link to='/admin/userlist' className='btn btn-light my-3'>\r\n\t\t\t\tGo Back\r\n\t\t\t</Link>\r\n\t\t\t<FormContainer>\r\n\t\t\t\t<h1>Edit User</h1>\r\n\t\t\t\t{loadingUpdate && <Loader />}\r\n\t\t\t\t{errorUpdate && <Message variant='danger'>{errorUpdate}</Message>}\r\n\t\t\t\t{loading ? (\r\n\t\t\t\t\t<Loader />\r\n\t\t\t\t) : error ? (\r\n\t\t\t\t\t<Message variant='danger'>{error}</Message>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Form onSubmit={submitHandler}>\r\n\t\t\t\t\t\t<Form.Group controlId='name'>\r\n\t\t\t\t\t\t\t<Form.Label>Name</Form.Label>\r\n\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\ttype='name'\r\n\t\t\t\t\t\t\t\tplaceholder='Enter name'\r\n\t\t\t\t\t\t\t\tvalue={name}\r\n\t\t\t\t\t\t\t\tonChange={(e) => setName(e.target.value)}\r\n\t\t\t\t\t\t\t></Form.Control>\r\n\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t<Form.Group controlId='email' className='my-3'>\r\n\t\t\t\t\t\t\t<Form.Label>Email Address</Form.Label>\r\n\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\ttype='email'\r\n\t\t\t\t\t\t\t\tplaceholder='Enter email'\r\n\t\t\t\t\t\t\t\tvalue={email}\r\n\t\t\t\t\t\t\t\tonChange={(e) => setEmail(e.target.value)}\r\n\t\t\t\t\t\t\t></Form.Control>\r\n\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t<Form.Group controlId='isadmin'>\r\n\t\t\t\t\t\t\t<Form.Check\r\n\t\t\t\t\t\t\t\ttype='checkbox'\r\n\t\t\t\t\t\t\t\tlabel='Is Admin'\r\n\t\t\t\t\t\t\t\tchecked={isAdmin}\r\n\t\t\t\t\t\t\t\tonChange={(e) => setIsAdmin(e.target.checked)}\r\n\t\t\t\t\t\t\t></Form.Check>\r\n\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t<Button type='submit' variant='primary' className='my-3'>\r\n\t\t\t\t\t\t\tUpdate\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t)}\r\n\t\t\t</FormContainer>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default UserEditScreen;\r\n","import { useEffect } from 'react';\r\nimport { LinkContainer } from 'react-router-bootstrap';\r\nimport { Table, Button, Row, Col } from 'react-bootstrap';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { FaPlus, FaEdit, FaTrash } from 'react-icons/fa';\r\nimport Message from '../components/Message.js';\r\nimport Loader from '../components/Loader.js';\r\nimport Paginate from '../components/Paginate.js';\r\nimport {\r\n\tlistProducts,\r\n\tdeleteProduct,\r\n\tcreateProduct,\r\n} from '../actions/productActions.js';\r\nimport { PRODUCT_CREATE_RESET } from '../constants/productConstants.js';\r\n\r\nconst ProductListScreen = ({ history, match }) => {\r\n\tconst pageNumber = match.params.pageNumber || 1;\r\n\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst productList = useSelector((state) => state.productList);\r\n\tconst { loading, error, products, page, pages } = productList;\r\n\r\n\tconst productDelete = useSelector((state) => state.productDelete);\r\n\tconst {\r\n\t\tloading: loadingDelete,\r\n\t\terror: errorDelete,\r\n\t\tsuccess: successDelete,\r\n\t} = productDelete;\r\n\r\n\tconst productCreate = useSelector((state) => state.productCreate);\r\n\tconst {\r\n\t\tloading: loadingCreate,\r\n\t\terror: errorCreate,\r\n\t\tsuccess: successCreate,\r\n\t\tproduct: createdProduct,\r\n\t} = productCreate;\r\n\r\n\tconst userLogin = useSelector((state) => state.userLogin);\r\n\tconst { userInfo } = userLogin;\r\n\r\n\tuseEffect(() => {\r\n\t\tdispatch({\r\n\t\t\ttype: PRODUCT_CREATE_RESET,\r\n\t\t});\r\n\t\tif (!userInfo || !userInfo.isAdmin) {\r\n\t\t\thistory.push('/login');\r\n\t\t}\r\n\r\n\t\tif (successCreate) {\r\n\t\t\thistory.push(`/admin/product/${createdProduct._id}/edit`);\r\n\t\t} else {\r\n\t\t\t// Remember that the listProducts action takes in a keyword AND a pageNumber. The function is set up to require both of those arguments so you have to pass an empty string for listProducts here since the search funcionality is not hooked up to the ProductListScreen.\r\n\t\t\tdispatch(listProducts('', pageNumber));\r\n\t\t}\r\n\t\t// by passing successDelete into the useEffect dependencies, when successDelete state changes the useEffect will fire, triggering a dispatch for listProducts so that the deleted product will be removed from the displayed list of products.\r\n\t}, [\r\n\t\tdispatch,\r\n\t\thistory,\r\n\t\tuserInfo,\r\n\t\tsuccessDelete,\r\n\t\tsuccessCreate,\r\n\t\tcreatedProduct,\r\n\t\tpageNumber\r\n\t]);\r\n\r\n\tconst createProductHandler = (product) => {\r\n\t\tdispatch(createProduct());\r\n\t};\r\n\r\n\tconst deleteHandler = (id) => {\r\n\t\tif (window.confirm('Are you sure?')) {\r\n\t\t\tdispatch(deleteProduct(id));\r\n\t\t}\r\n\t};\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Row className='align-items-center'>\r\n\t\t\t\t<Col>\r\n\t\t\t\t\t<h1>Products</h1>\r\n\t\t\t\t</Col>\r\n\t\t\t\t<Col className='text-end'>\r\n\t\t\t\t\t<Button className='my-3' onClick={createProductHandler}>\r\n\t\t\t\t\t\t<FaPlus /> Create Product\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Col>\r\n\t\t\t</Row>\r\n\t\t\t{loadingDelete && <Loader />}\r\n\t\t\t{errorDelete && <Message variant='danger'>{errorDelete}</Message>}\r\n\t\t\t{loadingCreate && <Loader />}\r\n\t\t\t{errorCreate && <Message variant='danger'>{errorCreate}</Message>}\r\n\t\t\t{loading ? (\r\n\t\t\t\t<Loader />\r\n\t\t\t) : error ? (\r\n\t\t\t\t<Message variant='danger'>{error}</Message>\r\n\t\t\t) : (\r\n\t\t\t\t<>\r\n\t\t\t\t<Table striped bordered hover responsive className='table-sm'>\r\n\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<th>ID</th>\r\n\t\t\t\t\t\t\t<th>NAME</th>\r\n\t\t\t\t\t\t\t<th>PRICE</th>\r\n\t\t\t\t\t\t\t<th>CATEGORY</th>\r\n\t\t\t\t\t\t\t<th>BRAND</th>\r\n\t\t\t\t\t\t\t<th></th>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t</thead>\r\n\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t{products.map((product) => (\r\n\t\t\t\t\t\t\t<tr key={product.id}>\r\n\t\t\t\t\t\t\t\t<td>{product.name}</td>\r\n\t\t\t\t\t\t\t\t<td>${product.price}</td>\r\n\t\t\t\t\t\t\t\t<td>{product.category}</td>\r\n\t\t\t\t\t\t\t\t<td>{product.brand}</td>\r\n\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t<LinkContainer to={`/admin/product/${product._id}/edit`}>\r\n\t\t\t\t\t\t\t\t\t\t<Button variant='light' className='btn-sm'>\r\n\t\t\t\t\t\t\t\t\t\t\t<FaEdit />\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\tvariant='danger'\r\n\t\t\t\t\t\t\t\t\t\tclassName='btn-sm'\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => deleteHandler(product._id)}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<FaTrash />\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</tbody>\r\n\t\t\t\t</Table>\r\n\t\t\t\t<Paginate pages={pages} page={page} isAdmin={true} />\r\n\t\t\t\t</>\r\n\t\t\t)}\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default ProductListScreen;\r\n","import axios from 'axios';\r\nimport { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { Form, Button } from 'react-bootstrap';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport Message from '../components/Message.js';\r\nimport Loader from '../components/Loader.js';\r\nimport FormContainer from '../components/FormContainer.js';\r\nimport {\r\n\tlistProductDetails,\r\n\tupdateProduct,\r\n} from '../actions/productActions.js';\r\nimport { PRODUCT_UPDATE_RESET } from '../constants/productConstants.js';\r\n\r\nconst ProductEditScreen = ({ match, history }) => {\r\n\tconst productId = match.params.id;\r\n\r\n\tconst [name, setName] = useState('');\r\n\tconst [price, setPrice] = useState(0);\r\n\tconst [image, setImage] = useState('');\r\n\tconst [brand, setBrand] = useState('');\r\n\tconst [category, setCategory] = useState('');\r\n\tconst [countInStock, setCountInStock] = useState(0);\r\n\tconst [description, setDescription] = useState('');\r\n\tconst [uploading, setUploading] = useState(false);\r\n\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst productDetails = useSelector((state) => state.productDetails);\r\n\tconst { loading, error, product } = productDetails;\r\n\r\n\tconst productUpdate = useSelector((state) => state.productUpdate);\r\n\tconst {\r\n\t\tloading: loadingUpdate,\r\n\t\terror: errorUpdate,\r\n\t\tsuccess: successUpdate,\r\n\t} = productUpdate;\r\n\r\n\tuseEffect(() => {\r\n\t\tif (successUpdate) {\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: PRODUCT_UPDATE_RESET,\r\n\t\t\t});\r\n\t\t\thistory.push('/admin/productlist');\r\n\t\t} else {\r\n\t\t\tif (!product.name || product._id !== productId) {\r\n\t\t\t\tdispatch(listProductDetails(productId));\r\n\t\t\t} else {\r\n\t\t\t\tsetName(product.name);\r\n\t\t\t\tsetPrice(product.price);\r\n\t\t\t\tsetImage(product.image);\r\n\t\t\t\tsetBrand(product.brand);\r\n\t\t\t\tsetCategory(product.category);\r\n\t\t\t\tsetCountInStock(product.countInStock);\r\n\t\t\t\tsetDescription(product.description);\r\n\t\t\t}\r\n\t\t}\r\n\t}, [dispatch, history, productId, product, successUpdate]);\r\n\r\n\tconst uploadFileHandler = async (e) => {\r\n\t\tconst file = e.target.files[0];\r\n\t\tconst formData = new FormData();\r\n\t\tformData.append('image', file);\r\n\t\tsetUploading(true);\r\n\r\n\t\ttry {\r\n\t\t\tconst config = {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t},\r\n\t\t\t};\r\n\r\n\t\t\tconst { data } = await axios.post('/api/upload', formData, config);\r\n\r\n\t\t\tsetImage(data);\r\n\t\t\tsetUploading(false);\r\n\t\t} catch (error) {\r\n\t\t\tconsole.error(error);\r\n\t\t\tsetUploading(false);\r\n\t\t}\r\n\t};\r\n\r\n\tconst submitHandler = (e) => {\r\n\t\te.preventDefault();\r\n\t\tdispatch(\r\n\t\t\tupdateProduct({\r\n\t\t\t\t_id: productId,\r\n\t\t\t\tname,\r\n\t\t\t\tprice,\r\n\t\t\t\timage,\r\n\t\t\t\tbrand,\r\n\t\t\t\tcategory,\r\n\t\t\t\tcountInStock,\r\n\t\t\t\tdescription,\r\n\t\t\t})\r\n\t\t);\r\n\t};\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Link to='/admin/productlist' className='btn btn-light my-3'>\r\n\t\t\t\tGo Back\r\n\t\t\t</Link>\r\n\t\t\t<FormContainer>\r\n\t\t\t\t<h1>Edit Product</h1>\r\n\t\t\t\t{loadingUpdate && <Loader />}\r\n\t\t\t\t{errorUpdate && <Message variant='danger'>{errorUpdate}</Message>}\r\n\t\t\t\t{loading ? (\r\n\t\t\t\t\t<Loader />\r\n\t\t\t\t) : error ? (\r\n\t\t\t\t\t<Message variant='danger'>{error}</Message>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Form onSubmit={submitHandler}>\r\n\t\t\t\t\t\t<Form.Group controlId='name'>\r\n\t\t\t\t\t\t\t<Form.Label>Name</Form.Label>\r\n\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\ttype='name'\r\n\t\t\t\t\t\t\t\tplaceholder='Enter product name'\r\n\t\t\t\t\t\t\t\tvalue={name}\r\n\t\t\t\t\t\t\t\tonChange={(e) => setName(e.target.value)}\r\n\t\t\t\t\t\t\t></Form.Control>\r\n\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t<Form.Group controlId='price'>\r\n\t\t\t\t\t\t\t<Form.Label>Price</Form.Label>\r\n\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\ttype='number'\r\n\t\t\t\t\t\t\t\tplaceholder='Enter product price'\r\n\t\t\t\t\t\t\t\tvalue={price}\r\n\t\t\t\t\t\t\t\tonChange={(e) => setPrice(e.target.value)}\r\n\t\t\t\t\t\t\t></Form.Control>\r\n\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t<Form.Group controlId='image'>\r\n\t\t\t\t\t\t\t<Form.Label>Image</Form.Label>\r\n\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\tplaceholder='Enter image URL'\r\n\t\t\t\t\t\t\t\tvalue={image}\r\n\t\t\t\t\t\t\t\tonChange={(e) => setImage(e.target.value)}\r\n\t\t\t\t\t\t\t></Form.Control>\r\n\t\t\t\t\t\t\t<Form.File\r\n\t\t\t\t\t\t\t\tid='image-file'\r\n\t\t\t\t\t\t\t\tlabel='Choose File'\r\n\t\t\t\t\t\t\t\tcustom\r\n\t\t\t\t\t\t\t\tonChange={uploadFileHandler}\r\n\t\t\t\t\t\t\t></Form.File>\r\n\t\t\t\t\t\t\t{uploading && <Loader />}\r\n\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t<Form.Group controlId='brand'>\r\n\t\t\t\t\t\t\t<Form.Label>Brand</Form.Label>\r\n\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\tplaceholder='Enter brand'\r\n\t\t\t\t\t\t\t\tvalue={brand}\r\n\t\t\t\t\t\t\t\tonChange={(e) => setBrand(e.target.value)}\r\n\t\t\t\t\t\t\t></Form.Control>\r\n\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t<Form.Group controlId='countInStock'>\r\n\t\t\t\t\t\t\t<Form.Label>CountInStock</Form.Label>\r\n\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\ttype='number'\r\n\t\t\t\t\t\t\t\tplaceholder='Enter Count In Stock'\r\n\t\t\t\t\t\t\t\tvalue={countInStock}\r\n\t\t\t\t\t\t\t\tonChange={(e) => setCountInStock(e.target.value)}\r\n\t\t\t\t\t\t\t></Form.Control>\r\n\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t<Form.Group controlId='category'>\r\n\t\t\t\t\t\t\t<Form.Label>Category</Form.Label>\r\n\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\tplaceholder='Enter category'\r\n\t\t\t\t\t\t\t\tvalue={category}\r\n\t\t\t\t\t\t\t\tonChange={(e) => setCategory(e.target.value)}\r\n\t\t\t\t\t\t\t></Form.Control>\r\n\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t<Form.Group controlId='description'>\r\n\t\t\t\t\t\t\t<Form.Label>Description</Form.Label>\r\n\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\tplaceholder='Enter description'\r\n\t\t\t\t\t\t\t\tvalue={description}\r\n\t\t\t\t\t\t\t\tonChange={(e) => setDescription(e.target.value)}\r\n\t\t\t\t\t\t\t></Form.Control>\r\n\t\t\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t\t\t<Button type='submit' variant='primary'>\r\n\t\t\t\t\t\t\tUpdate Product\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t)}\r\n\t\t\t</FormContainer>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default ProductEditScreen;\r\n","import { BrowserRouter as Router, Route } from 'react-router-dom';\nimport { Container } from 'react-bootstrap';\nimport Header from './components/Header.js';\nimport Footer from './components/Footer.js';\nimport HomeScreen from './screens/HomeScreen.js';\nimport ProductScreen from './screens/ProductScreen.js';\nimport CartScreen from './screens/CartScreen.js';\nimport LoginScreen from './screens/LoginScreen.js';\nimport RegisterScreen from './screens/RegisterScreen.js';\nimport ProfileScreen from './screens/ProfileScreen.js';\nimport ShippingScreen from './screens/ShippingScreen.js';\nimport PaymentScreen from './screens/PaymentScreen.js';\nimport PlaceOrderScreen from './screens/PlaceOrderScreen.js';\nimport OrderScreen from './screens/OrderScreen.js';\nimport OrderListScreen from './screens/OrderListScreen.js';\nimport UserListScreen from './screens/UserListScreen.js';\nimport UserEditScreen from './screens/UserEditScreen.js';\nimport ProductListScreen from './screens/ProductListScreen.js';\nimport ProductEditScreen from './screens/ProductEditScreen.js';\n\nconst App = () => {\n\treturn (\n\t\t<Router>\n\t\t\t<Header />\n\t\t\t<main className='py-3'>\n\t\t\t\t<Container>\n\t\t\t\t\t<Route path='/orders/:id' component={OrderScreen} />\n\t\t\t\t\t<Route path='/login' component={LoginScreen} />\n\t\t\t\t\t<Route path='/shipping' component={ShippingScreen} />\n\t\t\t\t\t<Route path='/payment' component={PaymentScreen} />\n\t\t\t\t\t<Route path='/placeorder' component={PlaceOrderScreen} />\n\t\t\t\t\t<Route path='/register' component={RegisterScreen} />\n\t\t\t\t\t<Route path='/profile' component={ProfileScreen} />\n\t\t\t\t\t<Route path='/product/:id' component={ProductScreen} />\n\t\t\t\t\t<Route path='/cart/:id?' component={CartScreen} />\n\t\t\t\t\t<Route path='/admin/userlist' component={UserListScreen} />\n\t\t\t\t\t<Route path='/admin/user/:id/edit' component={UserEditScreen} />\n\t\t\t\t\t<Route path='/admin/productlist' component={ProductListScreen} exact />\n\t\t\t\t\t<Route\n\t\t\t\t\t\tpath='/admin/productlist/:pageNumber'\n\t\t\t\t\t\tcomponent={ProductListScreen}\n\t\t\t\t\t\texact\n\t\t\t\t\t/>\n\t\t\t\t\t<Route path='/admin/product/:id/edit' component={ProductEditScreen} />\n\t\t\t\t\t<Route path='/admin/orderlist' component={OrderListScreen} />\n\t\t\t\t\t<Route path='/search/:keyword' component={HomeScreen} exact />\n\t\t\t\t\t<Route path='/page/:pageNumber' component={HomeScreen} exact />\n\t\t\t\t\t<Route\n\t\t\t\t\t\tpath='/search/:keyword/page/:pageNumber'\n\t\t\t\t\t\tcomponent={HomeScreen}\n\t\t\t\t\t\texact\n\t\t\t\t\t/>\n\t\t\t\t\t<Route path='/' component={HomeScreen} exact />\n\t\t\t\t</Container>\n\t\t\t</main>\n\t\t\t<Footer />\n\t\t</Router>\n\t);\n};\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport store from './store.js';\nimport './bootstrap.min.css';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}